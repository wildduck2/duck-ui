[
  {
    "body": "const{Fragment:e,jsx:l,jsxs:n}=arguments[0];function _createMdxContent(s){const r={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...s.components},{Step:c,Steps:a}=r;return c||_missingMdxReference(\"Step\",!0),a||_missingMdxReference(\"Steps\",!0),n(e,{children:[n(r.h2,{id:\"what-is-duck-query\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#what-is-duck-query\",children:l(r.span,{className:\"icon icon-link\"})}),\"What is Duck Query?\"]}),\"\\n\",l(r.p,{children:\"Duck Query is a small, typed HTTP client built on Axios. It uses route metadata to give you fully typed request and\\nresponse shapes, and it works especially well with the types generated by Duck Gen.\"}),\"\\n\",n(r.h2,{id:\"install\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#install\",children:l(r.span,{className:\"icon icon-link\"})}),\"Install\"]}),\"\\n\",n(a,{children:[l(c,{children:\"Install the client\"}),n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm add @gentleduck/query\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" add\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" @gentleduck/query\"})]})})}),l(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm add @gentleduck/query\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),l(r.span,{style:{color:\"#032F62\"},children:\" add\"}),l(r.span,{style:{color:\"#032F62\"},children:\" @gentleduck/query\"})]})})})]}),l(c,{children:\"Optional: install Duck Gen types\"}),n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" add\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" -D\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" @gentleduck/gen\"})]})})}),l(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),l(r.span,{style:{color:\"#032F62\"},children:\" add\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" -D\"}),l(r.span,{style:{color:\"#032F62\"},children:\" @gentleduck/gen\"})]})})})]})]}),\"\\n\",n(r.h2,{id:\"quick-start\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#quick-start\",children:l(r.span,{className:\"icon icon-link\"})}),\"Quick start\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { createDuckQueryClient } from '@gentleduck/query'\\nimport type { ApiRoutes } from '@gentleduck/gen/nestjs'\\n \\nconst client = createDuckQueryClient<ApiRoutes>({\\n  baseURL: 'http://localhost:3000',\\n  withCredentials: true,\\n})\\n \\nconst { data } = await client.post('/api/auth/signin', {\\n  body: {\\n    username: 'duck',\\n    password: '123456',\\n  },\\n})\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" createDuckQueryClient \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" ApiRoutes \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" client \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" createDuckQueryClient\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"ApiRoutes\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  baseURL\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'http://localhost:3000'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  withCredentials\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#FAB387\"},children:\" true\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" data \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\" =\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" await\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" client\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"post\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'/api/auth/signin'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  body\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"    username\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'duck'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"    password\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '123456'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"  },\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]})]})}),l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { createDuckQueryClient } from '@gentleduck/query'\\nimport type { ApiRoutes } from '@gentleduck/gen/nestjs'\\n \\nconst client = createDuckQueryClient<ApiRoutes>({\\n  baseURL: 'http://localhost:3000',\\n  withCredentials: true,\\n})\\n \\nconst { data } = await client.post('/api/auth/signin', {\\n  body: {\\n    username: 'duck',\\n    password: '123456',\\n  },\\n})\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { createDuckQueryClient } \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { ApiRoutes } \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" client\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" createDuckQueryClient\"}),l(r.span,{style:{color:\"#24292E\"},children:\"<\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"ApiRoutes\"}),l(r.span,{style:{color:\"#24292E\"},children:\">({\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  baseURL: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'http://localhost:3000'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  withCredentials: \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"true\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"})\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"data\"}),l(r.span,{style:{color:\"#24292E\"},children:\" } \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" await\"}),l(r.span,{style:{color:\"#24292E\"},children:\" client.\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"post\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'/api/auth/signin'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", {\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  body: {\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"    username: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'duck'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"    password: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'123456'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  },\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"})\"})})]})})]}),\"\\n\",n(r.h2,{id:\"request-shape\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#request-shape\",children:l(r.span,{className:\"icon icon-link\"})}),\"Request shape\"]}),\"\\n\",l(r.p,{children:\"Every route request is a small object with up to four fields:\"}),\"\\n\",n(r.ul,{children:[\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"body\",children:\"body\"}),\": JSON body for POST, PUT, PATCH.\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"query\",children:\"query\"}),\": Query string values.\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"params\",children:\"params\"}),\": Path params for routes like \",l(r.code,{__rawString__:\"/users/:id\",children:\"/users/:id\"}),\".\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"headers\",children:\"headers\"}),\": Per-request headers.\"]}),\"\\n\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"await client.get('/api/users/:id', {\\n  params: { id: 'u_123' },\\n  query: { with: 'profile' },\\n  headers: { authorization: 'Bearer token' },\\n})\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"await\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" client\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"get\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'/api/users/:id'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  params\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" id\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'u_123'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" },\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  query\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" with\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'profile'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" },\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  headers\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" authorization\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Bearer token'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" },\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]})]})}),l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"await client.get('/api/users/:id', {\\n  params: { id: 'u_123' },\\n  query: { with: 'profile' },\\n  headers: { authorization: 'Bearer token' },\\n})\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"await\"}),l(r.span,{style:{color:\"#24292E\"},children:\" client.\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"get\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'/api/users/:id'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  params: { id: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'u_123'\"}),l(r.span,{style:{color:\"#24292E\"},children:\" },\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  query: { with: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'profile'\"}),l(r.span,{style:{color:\"#24292E\"},children:\" },\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  headers: { authorization: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'Bearer token'\"}),l(r.span,{style:{color:\"#24292E\"},children:\" },\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"})\"})})]})})]}),\"\\n\",l(r.p,{children:\"Notes:\"}),\"\\n\",n(r.ul,{children:[\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"params\",children:\"params\"}),\" replaces \",l(r.code,{__rawString__:\":id\",children:\":id\"}),\" placeholders in the URL.\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"query\",children:\"query\"}),\" overrides \",l(r.code,{__rawString__:\"config.params\",children:\"config.params\"}),\" if both are provided.\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"headers\",children:\"headers\"}),\" overrides \",l(r.code,{__rawString__:\"config.headers\",children:\"config.headers\"}),\" if both are provided.\"]}),\"\\n\"]}),\"\\n\",n(r.h2,{id:\"client-methods\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#client-methods\",children:l(r.span,{className:\"icon icon-link\"})}),\"Client methods\"]}),\"\\n\",l(r.p,{children:\"Duck Query returns a typed client with these methods:\"}),\"\\n\",n(r.ul,{children:[\"\\n\",l(r.li,{children:l(r.code,{__rawString__:\"get(path, req?, config?)\",children:\"get(path, req?, config?)\"})}),\"\\n\",l(r.li,{children:l(r.code,{__rawString__:\"post(path, req, config?)\",children:\"post(path, req, config?)\"})}),\"\\n\",l(r.li,{children:l(r.code,{__rawString__:\"put(path, req, config?)\",children:\"put(path, req, config?)\"})}),\"\\n\",l(r.li,{children:l(r.code,{__rawString__:\"patch(path, req, config?)\",children:\"patch(path, req, config?)\"})}),\"\\n\",l(r.li,{children:l(r.code,{__rawString__:\"del(path, req?, config?)\",children:\"del(path, req?, config?)\"})}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"request(path, req?, config?)\",children:\"request(path, req?, config?)\"}),\" (method from \",l(r.code,{__rawString__:\"config.method\",children:\"config.method\"}),\", default GET)\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"byMethod(method, path, req?, config?)\",children:\"byMethod(method, path, req?, config?)\"}),\" (explicit method string)\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"axios\",children:\"axios\"}),\" (the underlying Axios instance)\"]}),\"\\n\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"client.axios.interceptors.request.use((config) => {\\n  config.headers = {\\n    ...config.headers,\\n    'x-app': 'duck-ui',\\n  }\\n  return config\\n})\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"client\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"axios\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"interceptors\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"request\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"use\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),l(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"config\"}),l(r.span,{style:{color:\"#9399B2\"},children:\")\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\" =>\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  config\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"headers \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#94E2D5\"},children:\"    ...\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"config\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"headers\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#A6E3A1\"},children:\"    'x-app'\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'duck-ui'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"  return\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" config\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]})]})}),l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"client.axios.interceptors.request.use((config) => {\\n  config.headers = {\\n    ...config.headers,\\n    'x-app': 'duck-ui',\\n  }\\n  return config\\n})\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"client.axios.interceptors.request.\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"use\"}),l(r.span,{style:{color:\"#24292E\"},children:\"((\"}),l(r.span,{style:{color:\"#E36209\"},children:\"config\"}),l(r.span,{style:{color:\"#24292E\"},children:\") \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=>\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  config.headers \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    ...\"}),l(r.span,{style:{color:\"#24292E\"},children:\"config.headers,\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"    'x-app'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'duck-ui'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"  return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" config\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"})\"})})]})})]}),\"\\n\",n(r.h2,{id:\"types\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#types\",children:l(r.span,{className:\"icon icon-link\"})}),\"Types\"]}),\"\\n\",l(r.p,{children:\"Duck Query exposes helper types so you can build or inspect route maps manually.\"}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type {\\n  DuckRouteMeta,\\n  DuckApiRoutes,\\n  RoutePath,\\n  RouteOf,\\n  RouteMethod,\\n  RouteRes,\\n  RouteReq,\\n  RouteMethods,\\n  PathsByMethod,\\n} from '@gentleduck/query'\\n \\ntype Routes = {\\n  '/api/users/:id': {\\n    method: 'GET'\\n    params: { id: string }\\n    query: { with?: 'profile' }\\n    headers: { authorization: string }\\n    body: never\\n    res: { id: string; username: string }\\n  }\\n}\\n \\ntype Paths = RoutePath<Routes>\\n// '/api/users/:id'\\n \\ntype UserRes = RouteRes<Routes, '/api/users/:id'>\\n// { id: string; username: string }\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  DuckRouteMeta\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  DuckApiRoutes\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  RoutePath\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  RouteOf\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  RouteMethod\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  RouteRes\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  RouteReq\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  RouteMethods\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  PathsByMethod\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Routes \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#A6E3A1\"},children:\"  '\"}),l(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"/api/users/:id\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    method\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),l(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"GET\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    params\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" id\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    query\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" with\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"?:\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),l(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"profile\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    headers\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" authorization\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    body\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    res\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" id\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),l(r.span,{style:{color:\"#9399B2\"},children:\";\"}),l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" username\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"}\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Paths \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" RoutePath\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"Routes\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\">\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"// '/api/users/:id'\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" UserRes \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" RouteRes\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"Routes\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),l(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"/api/users/:id\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\">\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"// { id: string; username: string }\"})})]})}),l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type {\\n  DuckRouteMeta,\\n  DuckApiRoutes,\\n  RoutePath,\\n  RouteOf,\\n  RouteMethod,\\n  RouteRes,\\n  RouteReq,\\n  RouteMethods,\\n  PathsByMethod,\\n} from '@gentleduck/query'\\n \\ntype Routes = {\\n  '/api/users/:id': {\\n    method: 'GET'\\n    params: { id: string }\\n    query: { with?: 'profile' }\\n    headers: { authorization: string }\\n    body: never\\n    res: { id: string; username: string }\\n  }\\n}\\n \\ntype Paths = RoutePath<Routes>\\n// '/api/users/:id'\\n \\ntype UserRes = RouteRes<Routes, '/api/users/:id'>\\n// { id: string; username: string }\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  DuckRouteMeta,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  DuckApiRoutes,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  RoutePath,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  RouteOf,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  RouteMethod,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  RouteRes,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  RouteReq,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  RouteMethods,\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  PathsByMethod,\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"} \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" Routes\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"  '/api/users/:id'\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    method\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#032F62\"},children:\" 'GET'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    params\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#E36209\"},children:\"id\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),l(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    query\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#E36209\"},children:\"with\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"?:\"}),l(r.span,{style:{color:\"#032F62\"},children:\" 'profile'\"}),l(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    headers\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#E36209\"},children:\"authorization\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),l(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    body\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    res\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#E36209\"},children:\"id\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),l(r.span,{style:{color:\"#24292E\"},children:\"; \"}),l(r.span,{style:{color:\"#E36209\"},children:\"username\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),l(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" Paths\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" RoutePath\"}),l(r.span,{style:{color:\"#24292E\"},children:\"<\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"Routes\"}),l(r.span,{style:{color:\"#24292E\"},children:\">\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6A737D\"},children:\"// '/api/users/:id'\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" UserRes\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" RouteRes\"}),l(r.span,{style:{color:\"#24292E\"},children:\"<\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"Routes\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'/api/users/:id'\"}),l(r.span,{style:{color:\"#24292E\"},children:\">\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6A737D\"},children:\"// { id: string; username: string }\"})})]})})]}),\"\\n\",n(r.h2,{id:\"using-without-duck-gen\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#using-without-duck-gen\",children:l(r.span,{className:\"icon icon-link\"})}),\"Using without Duck Gen\"]}),\"\\n\",l(r.p,{children:\"You can supply your own route map if you are not using Duck Gen.\"}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { createDuckQueryClient } from '@gentleduck/query'\\n \\ntype Routes = {\\n  '/ping': {\\n    method: 'GET'\\n    params: never\\n    query: never\\n    headers: never\\n    body: never\\n    res: { ok: true }\\n  }\\n}\\n \\nconst client = createDuckQueryClient<Routes>({ baseURL: 'http://localhost:3000' })\\nconst { data } = await client.get('/ping')\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" createDuckQueryClient \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Routes \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#A6E3A1\"},children:\"  '\"}),l(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"/ping\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    method\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),l(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"GET\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    params\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    query\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    headers\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    body\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"    res\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" ok\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#CBA6F7\",fontStyle:\"italic\"},children:\" true\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"}\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" client \"}),l(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" createDuckQueryClient\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),l(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"Routes\"}),l(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#9399B2\"},children:\"{\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" baseURL\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'http://localhost:3000'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" }\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" data \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\" =\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" await\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" client\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"get\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'/ping'\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]})]})}),l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { createDuckQueryClient } from '@gentleduck/query'\\n \\ntype Routes = {\\n  '/ping': {\\n    method: 'GET'\\n    params: never\\n    query: never\\n    headers: never\\n    body: never\\n    res: { ok: true }\\n  }\\n}\\n \\nconst client = createDuckQueryClient<Routes>({ baseURL: 'http://localhost:3000' })\\nconst { data } = await client.get('/ping')\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { createDuckQueryClient } \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" Routes\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"  '/ping'\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    method\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#032F62\"},children:\" 'GET'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    params\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    query\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    headers\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    body\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#E36209\"},children:\"    res\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#E36209\"},children:\"ok\"}),l(r.span,{style:{color:\"#D73A49\"},children:\":\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" true\"}),l(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",l(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" client\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" createDuckQueryClient\"}),l(r.span,{style:{color:\"#24292E\"},children:\"<\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"Routes\"}),l(r.span,{style:{color:\"#24292E\"},children:\">({ baseURL: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'http://localhost:3000'\"}),l(r.span,{style:{color:\"#24292E\"},children:\" })\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"data\"}),l(r.span,{style:{color:\"#24292E\"},children:\" } \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" await\"}),l(r.span,{style:{color:\"#24292E\"},children:\" client.\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"get\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'/ping'\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})]}),\"\\n\",n(r.h2,{id:\"error-handling\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#error-handling\",children:l(r.span,{className:\"icon icon-link\"})}),\"Error handling\"]}),\"\\n\",l(r.p,{children:\"Duck Query returns Axios responses, so errors are thrown as Axios errors.\"}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"try {\\n  const { data } = await client.post('/api/auth/signin', {\\n    body: { username: 'duck', password: 'bad' },\\n  })\\n  return data\\n} catch (error) {\\n  console.error('Signin failed', error)\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"try\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"  const\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" data \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\" =\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" await\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" client\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"post\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'/api/auth/signin'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"    body\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" username\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'duck'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" password\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\" 'bad'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\" },\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"  }\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CBA6F7\"},children:\"  return\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" data\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),l(r.span,{style:{color:\"#CBA6F7\"},children:\" catch\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" (error) \"}),l(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#CDD6F4\"},children:\"  console\"}),l(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),l(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"error\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),l(r.span,{style:{color:\"#A6E3A1\"},children:\"'Signin failed'\"}),l(r.span,{style:{color:\"#9399B2\"},children:\",\"}),l(r.span,{style:{color:\"#CDD6F4\"},children:\" error)\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),l(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"try {\\n  const { data } = await client.post('/api/auth/signin', {\\n    body: { username: 'duck', password: 'bad' },\\n  })\\n  return data\\n} catch (error) {\\n  console.error('Signin failed', error)\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"try\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"  const\"}),l(r.span,{style:{color:\"#24292E\"},children:\" { \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"data\"}),l(r.span,{style:{color:\"#24292E\"},children:\" } \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" await\"}),l(r.span,{style:{color:\"#24292E\"},children:\" client.\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"post\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'/api/auth/signin'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"    body: { username: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'duck'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", password: \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'bad'\"}),l(r.span,{style:{color:\"#24292E\"},children:\" },\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"  })\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"  return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" data\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"} \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"catch\"}),l(r.span,{style:{color:\"#24292E\"},children:\" (error) {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"  console.\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\"error\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'Signin failed'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", error)\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",n(r.h2,{id:\"behavior-details\",children:[l(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#behavior-details\",children:l(r.span,{className:\"icon icon-link\"})}),\"Behavior details\"]}),\"\\n\",n(r.ul,{children:[\"\\n\",n(r.li,{children:[\"Methods like GET and DELETE ignore \",l(r.code,{__rawString__:\"body\",children:\"body\"}),\" even if it exists.\"]}),\"\\n\",n(r.li,{children:[l(r.code,{__rawString__:\"request\",children:\"request\"}),\" uses \",l(r.code,{__rawString__:\"config.method\",children:\"config.method\"}),\" and defaults to GET if it is missing.\"]}),\"\\n\",n(r.li,{children:[\"Paths are type-checked against the method you call, so you cannot \",l(r.code,{__rawString__:\"post\",children:\"post\"}),\" to a GET-only route.\"]}),\"\\n\"]})]})}return{default:function(e={}){const{wrapper:n}=e.components||{};return n?l(n,{...e,children:l(_createMdxContent,{...e})}):_createMdxContent(e)}};function _missingMdxReference(e,l){throw new Error(\"Expected \"+(l?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}",
    "component": false,
    "content": "<h2>What is Duck Query?</h2>\n<p>Duck Query is a small, typed HTTP client built on Axios. It uses route metadata to give you fully typed request and\nresponse shapes, and it works especially well with the types generated by Duck Gen.</p>\n<h2>Install</h2>\n<steps>\n<p><step>Install the client</step></p>\n<pre><code class=\"language-bash\">pnpm add @gentleduck/query\n</code></pre>\n<p><step>Optional: install Duck Gen types</step></p>\n<pre><code class=\"language-bash\">pnpm add -D @gentleduck/gen\n</code></pre>\n</steps>\n<h2>Quick start</h2>\n<pre><code class=\"language-ts\">import { createDuckQueryClient } from '@gentleduck/query'\nimport type { ApiRoutes } from '@gentleduck/gen/nestjs'\n\nconst client = createDuckQueryClient&#x3C;ApiRoutes>({\n  baseURL: 'http://localhost:3000',\n  withCredentials: true,\n})\n\nconst { data } = await client.post('/api/auth/signin', {\n  body: {\n    username: 'duck',\n    password: '123456',\n  },\n})\n</code></pre>\n<h2>Request shape</h2>\n<p>Every route request is a small object with up to four fields:</p>\n<ul>\n<li><code>body</code>: JSON body for POST, PUT, PATCH.</li>\n<li><code>query</code>: Query string values.</li>\n<li><code>params</code>: Path params for routes like <code>/users/:id</code>.</li>\n<li><code>headers</code>: Per-request headers.</li>\n</ul>\n<pre><code class=\"language-ts\">await client.get('/api/users/:id', {\n  params: { id: 'u_123' },\n  query: { with: 'profile' },\n  headers: { authorization: 'Bearer token' },\n})\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><code>params</code> replaces <code>:id</code> placeholders in the URL.</li>\n<li><code>query</code> overrides <code>config.params</code> if both are provided.</li>\n<li><code>headers</code> overrides <code>config.headers</code> if both are provided.</li>\n</ul>\n<h2>Client methods</h2>\n<p>Duck Query returns a typed client with these methods:</p>\n<ul>\n<li><code>get(path, req?, config?)</code></li>\n<li><code>post(path, req, config?)</code></li>\n<li><code>put(path, req, config?)</code></li>\n<li><code>patch(path, req, config?)</code></li>\n<li><code>del(path, req?, config?)</code></li>\n<li><code>request(path, req?, config?)</code> (method from <code>config.method</code>, default GET)</li>\n<li><code>byMethod(method, path, req?, config?)</code> (explicit method string)</li>\n<li><code>axios</code> (the underlying Axios instance)</li>\n</ul>\n<pre><code class=\"language-ts\">client.axios.interceptors.request.use((config) => {\n  config.headers = {\n    ...config.headers,\n    'x-app': 'duck-ui',\n  }\n  return config\n})\n</code></pre>\n<h2>Types</h2>\n<p>Duck Query exposes helper types so you can build or inspect route maps manually.</p>\n<pre><code class=\"language-ts\">import type {\n  DuckRouteMeta,\n  DuckApiRoutes,\n  RoutePath,\n  RouteOf,\n  RouteMethod,\n  RouteRes,\n  RouteReq,\n  RouteMethods,\n  PathsByMethod,\n} from '@gentleduck/query'\n\ntype Routes = {\n  '/api/users/:id': {\n    method: 'GET'\n    params: { id: string }\n    query: { with?: 'profile' }\n    headers: { authorization: string }\n    body: never\n    res: { id: string; username: string }\n  }\n}\n\ntype Paths = RoutePath&#x3C;Routes>\n// '/api/users/:id'\n\ntype UserRes = RouteRes&#x3C;Routes, '/api/users/:id'>\n// { id: string; username: string }\n</code></pre>\n<h2>Using without Duck Gen</h2>\n<p>You can supply your own route map if you are not using Duck Gen.</p>\n<pre><code class=\"language-ts\">import { createDuckQueryClient } from '@gentleduck/query'\n\ntype Routes = {\n  '/ping': {\n    method: 'GET'\n    params: never\n    query: never\n    headers: never\n    body: never\n    res: { ok: true }\n  }\n}\n\nconst client = createDuckQueryClient&#x3C;Routes>({ baseURL: 'http://localhost:3000' })\nconst { data } = await client.get('/ping')\n</code></pre>\n<h2>Error handling</h2>\n<p>Duck Query returns Axios responses, so errors are thrown as Axios errors.</p>\n<pre><code class=\"language-ts\">try {\n  const { data } = await client.post('/api/auth/signin', {\n    body: { username: 'duck', password: 'bad' },\n  })\n  return data\n} catch (error) {\n  console.error('Signin failed', error)\n}\n</code></pre>\n<h2>Behavior details</h2>\n<ul>\n<li>Methods like GET and DELETE ignore <code>body</code> even if it exists.</li>\n<li><code>request</code> uses <code>config.method</code> and defaults to GET if it is missing.</li>\n<li>Paths are type-checked against the method you call, so you cannot <code>post</code> to a GET-only route.</li>\n</ul>",
    "description": "Type-safe Axios client for Duck Gen routes.",
    "excerpt": "What is Duck Query?\nDuck Query is a small, typed HTTP client built on Axios. It uses route metadata to give you fully typed request and\nresponse shapes, and it works especially well with the types generated by Duck Gen.\nInstall\n\nInstall the client\npnpm add @ge",
    "metadata": {
      "readingTime": 2,
      "wordCount": 442
    },
    "title": "duck query",
    "toc": [
      {
        "title": "What is Duck Query?",
        "url": "#what-is-duck-query",
        "items": []
      },
      {
        "title": "Install",
        "url": "#install",
        "items": []
      },
      {
        "title": "Quick start",
        "url": "#quick-start",
        "items": []
      },
      {
        "title": "Request shape",
        "url": "#request-shape",
        "items": []
      },
      {
        "title": "Client methods",
        "url": "#client-methods",
        "items": []
      },
      {
        "title": "Types",
        "url": "#types",
        "items": []
      },
      {
        "title": "Using without Duck Gen",
        "url": "#using-without-duck-gen",
        "items": []
      },
      {
        "title": "Error handling",
        "url": "#error-handling",
        "items": []
      },
      {
        "title": "Behavior details",
        "url": "#behavior-details",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "docs",
    "permalink": "duck-query",
    "slug": "docs/duck-query",
    "sourceFileDir": "content/docs",
    "sourceFileName": "duck-query.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:e,jsx:n,jsxs:d}=arguments[0];function _createMdxContent(r){const t={a:\"a\",p:\"p\",...r.components},{Accordion:s,AccordionContent:c,AccordionItem:o,AccordionTrigger:l}=t;return s||_missingMdxReference(\"Accordion\",!0),c||_missingMdxReference(\"AccordionContent\",!0),o||_missingMdxReference(\"AccordionItem\",!0),l||_missingMdxReference(\"AccordionTrigger\",!0),d(e,{children:[d(t.p,{children:[\"This FAQ focuses on Duck Gen usage, configuration, and generated output.\\nIf you cannot find what you need, open an issue or discussion on GitHub:\\n\",n(t.a,{href:\"https://github.com/gentleeduck/duck-ui\",children:\"https://github.com/gentleeduck/duck-ui\"})]}),\"\\n\",n(\"br\",{}),\"\\n\",n(\"br\",{}),\"\\n\",n(\"br\",{}),\"\\n\",d(s,{type:\"multiple\",collapsible:!0,className:\"w-full\",children:[d(o,{value:\"what-is-duck-gen\",children:[n(l,{children:\"What is Duck Gen?\"}),n(c,{className:\"text-muted-foreground\",children:n(t.p,{children:\"Duck Gen is a general-purpose compiler extension that scans server code and generates TypeScript definitions for\\nAPI routes and message keys. It keeps server contracts and client types aligned without manual sync work.\"})})]}),d(o,{value:\"what-does-it-generate\",children:[n(l,{children:\"What does Duck Gen generate?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"It generates:\"}),d(\"ul\",{className:\"mt-2 list-disc pl-5\",children:[n(\"li\",{children:\"API route types (request/response shapes per route).\"}),d(\"li\",{children:[\"Message registry types from \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"@duckgen\"}),\" message tags.\"]})]})]})]}),d(o,{value:\"framework-support\",children:[n(l,{children:\"Which frameworks are supported?\"}),n(c,{className:\"text-muted-foreground\",children:n(t.p,{children:\"Duck Gen is designed for multiple frameworks and is currently tested with NestJS. Other adapters are in progress,\\nand unsupported values fall back to the NestJS adapter with a warning.\"})})]}),d(o,{value:\"requirements\",children:[n(l,{children:\"What are the requirements?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"You need:\"}),d(\"ul\",{className:\"mt-2 list-disc pl-5\",children:[n(\"li\",{children:\"Node 22 or newer.\"}),d(\"li\",{children:[\"A TypeScript project with a valid \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"tsconfig.json\"}),\".\"]}),n(\"li\",{children:\"NestJS if you are using the current tested adapter.\"})]})]})]}),d(o,{value:\"install-run\",children:[n(l,{children:\"How do I install and run Duck Gen?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"Install the package and run the CLI:\"}),n(\"div\",{className:\"mt-3\",children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"pnpm add -D @gentleduck/gen\"})}),n(\"div\",{className:\"mt-3\",children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"pnpm exec duck-gen\"})})]})]}),d(o,{value:\"config-location\",children:[n(l,{children:\"Where does the configuration live?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"Duck Gen reads \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"duck-gen.toml\"}),\" from your project root. All paths\\ninside the config are resolved relative to that file.\"]})})]}),d(o,{value:\"config-required\",children:[n(l,{children:\"Do I need a config file?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"No. If \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"duck-gen.toml\"}),\" is missing, Duck Gen uses defaults.\\nYou only need the file when you want to customize globs, paths, or extensions.\"]})})]}),d(o,{value:\"output-location\",children:[n(l,{children:\"Where do the generated types go?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"Duck Gen writes generated files inside the package:\"}),d(\"ul\",{className:\"mt-2 list-disc pl-5\",children:[n(\"li\",{children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"@gentleduck/gen/generated/nestjs/duck-gen-api-routes.d.ts\"})}),n(\"li\",{children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"@gentleduck/gen/generated/nestjs/duck-gen-messages.d.ts\"})}),n(\"li\",{children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"@gentleduck/gen/generated/nestjs/index.d.ts\"})})]})]})]}),d(o,{value:\"import-types\",children:[n(l,{children:\"How do I import the generated types?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"Import from the framework entrypoint:\"}),n(\"div\",{className:\"mt-3\",children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"import type { RouteReq, RouteRes, ApiRoutes, DuckgenMessageGroup } from '@gentleduck/gen/nestjs'\"})})]})]}),d(o,{value:\"scan-control\",children:[n(l,{children:\"How do I control what Duck Gen scans?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"Use \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"sourceGlobs\"}),\",\\n\",n(\"code\",{className:\"ml-2 rounded bg-muted px-2 py-1\",children:\"tsconfigPath\"}),\", and\\n\",n(\"code\",{className:\"ml-2 rounded bg-muted px-2 py-1\",children:\"includeNodeModules\"}),\" under\\n\",n(\"code\",{className:\"ml-2 rounded bg-muted px-2 py-1\",children:\"extensions.shared\"}),\" (or override per extension).\"]})})]}),d(o,{value:\"disable-extensions\",children:[n(l,{children:\"Can I disable API routes or messages generation?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"Yes. Set \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"extensions.apiRoutes.enabled\"}),\" or\\n\",n(\"code\",{className:\"ml-2 rounded bg-muted px-2 py-1\",children:\"extensions.messages.enabled\"}),\" to\\n\",n(\"code\",{className:\"ml-2 rounded bg-muted px-2 py-1\",children:\"false\"}),\" in \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"duck-gen.toml\"}),\".\"]})})]}),d(o,{value:\"global-prefix\",children:[n(l,{children:\"What does globalPrefix do?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"It prepends a shared base path (like \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"/api\"}),\") to all generated\\nroutes so your client types match your server prefix.\"]})})]}),d(o,{value:\"missing-routes\",children:[n(l,{children:\"Why are no routes generated?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"Common causes:\"}),d(\"ul\",{className:\"mt-2 list-disc pl-5\",children:[n(\"li\",{children:\"Your route decorators use dynamic values instead of string literals.\"}),d(\"li\",{children:[\"Your \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"sourceGlobs\"}),\" do not include the files.\"]}),d(\"li\",{children:[\"Your \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"tsconfigPath\"}),\" is incorrect.\"]})]})]})]}),d(o,{value:\"messages-string\",children:[n(l,{children:\"Why are message keys just string?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"Add \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"as const\"}),\" to your message arrays so Duck Gen can infer\\nliteral types.\"]})})]}),d(o,{value:\"any-warnings\",children:[n(l,{children:\"How do I deal with any warnings?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"Add explicit return types to your controller methods, or enable\\n\",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"normalizeAnyToUnknown\"}),\" so generated types avoid \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\"any\"}),\".\"]})})]}),d(o,{value:\"safe-to-run\",children:[n(l,{children:\"Is it safe to run Duck Gen in CI?\"}),n(c,{className:\"text-muted-foreground\",children:n(t.p,{children:\"Yes. The generator overwrites the same output files every run, so it is safe to run repeatedly in CI or as part of\\nyour build.\"})})]}),d(o,{value:\"source-changes\",children:[n(l,{children:\"Does Duck Gen modify my source code?\"}),n(c,{className:\"text-muted-foreground\",children:d(t.p,{children:[\"No. It reads your source and writes generated \",n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:\".d.ts\"}),\" files to the\\npackage output location.\"]})})]}),d(o,{value:\"troubleshooting\",children:[n(l,{children:\"I still have issues. Where should I ask for help?\"}),d(c,{className:\"text-muted-foreground\",children:[n(t.p,{children:\"Open an issue or discussion with your environment details and a small reproduction:\"}),n(\"div\",{className:\"mt-3\",children:n(\"code\",{className:\"rounded bg-muted px-2 py-1\",children:n(t.a,{href:\"https://github.com/gentleeduck/duck-ui\",children:\"https://github.com/gentleeduck/duck-ui\"})})})]})]})]})]})}return{default:function(e={}){const{wrapper:d}=e.components||{};return d?n(d,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};function _missingMdxReference(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}",
    "component": false,
    "content": "<p>This FAQ focuses on Duck Gen usage, configuration, and generated output.\nIf you cannot find what you need, open an issue or discussion on GitHub:\n<a href=\"https://github.com/gentleeduck/duck-ui\">https://github.com/gentleeduck/duck-ui</a></p>\n<br>\n<br>\n<br>\n<accordion type=\"multiple\" collapsible=\"\" class=\"w-full\">\n  <accordionitem value=\"what-is-duck-gen\">\n    <accordiontrigger>What is Duck Gen?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Duck Gen is a general-purpose compiler extension that scans server code and generates TypeScript definitions for\n      API routes and message keys. It keeps server contracts and client types aligned without manual sync work.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"what-does-it-generate\">\n    <accordiontrigger>What does Duck Gen generate?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      It generates:\n      <ul class=\"mt-2 list-disc pl-5\">\n        <li>API route types (request/response shapes per route).</li>\n        <li>Message registry types from <code class=\"rounded bg-muted px-2 py-1\">@duckgen</code> message tags.</li>\n      </ul>\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"framework-support\">\n    <accordiontrigger>Which frameworks are supported?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Duck Gen is designed for multiple frameworks and is currently tested with NestJS. Other adapters are in progress,\n      and unsupported values fall back to the NestJS adapter with a warning.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"requirements\">\n    <accordiontrigger>What are the requirements?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      You need:\n      <ul class=\"mt-2 list-disc pl-5\">\n        <li>Node 22 or newer.</li>\n        <li>A TypeScript project with a valid <code class=\"rounded bg-muted px-2 py-1\">tsconfig.json</code>.</li>\n        <li>NestJS if you are using the current tested adapter.</li>\n      </ul>\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"install-run\">\n    <accordiontrigger>How do I install and run Duck Gen?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Install the package and run the CLI:\n      <div class=\"mt-3\">\n        <code class=\"rounded bg-muted px-2 py-1\">pnpm add -D @gentleduck/gen</code>\n      </div>\n      <div class=\"mt-3\">\n        <code class=\"rounded bg-muted px-2 py-1\">pnpm exec duck-gen</code>\n      </div>\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"config-location\">\n    <accordiontrigger>Where does the configuration live?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Duck Gen reads <code class=\"rounded bg-muted px-2 py-1\">duck-gen.toml</code> from your project root. All paths\n      inside the config are resolved relative to that file.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"config-required\">\n    <accordiontrigger>Do I need a config file?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      No. If <code class=\"rounded bg-muted px-2 py-1\">duck-gen.toml</code> is missing, Duck Gen uses defaults.\n      You only need the file when you want to customize globs, paths, or extensions.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"output-location\">\n    <accordiontrigger>Where do the generated types go?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Duck Gen writes generated files inside the package:\n      <ul class=\"mt-2 list-disc pl-5\">\n        <li><code class=\"rounded bg-muted px-2 py-1\">@gentleduck/gen/generated/nestjs/duck-gen-api-routes.d.ts</code></li>\n        <li><code class=\"rounded bg-muted px-2 py-1\">@gentleduck/gen/generated/nestjs/duck-gen-messages.d.ts</code></li>\n        <li><code class=\"rounded bg-muted px-2 py-1\">@gentleduck/gen/generated/nestjs/index.d.ts</code></li>\n      </ul>\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"import-types\">\n    <accordiontrigger>How do I import the generated types?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Import from the framework entrypoint:\n      <div class=\"mt-3\">\n        <code class=\"rounded bg-muted px-2 py-1\">import type { RouteReq, RouteRes, ApiRoutes, DuckgenMessageGroup } from '@gentleduck/gen/nestjs'</code>\n      </div>\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"scan-control\">\n    <accordiontrigger>How do I control what Duck Gen scans?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Use <code class=\"rounded bg-muted px-2 py-1\">sourceGlobs</code>,\n      <code class=\"ml-2 rounded bg-muted px-2 py-1\">tsconfigPath</code>, and\n      <code class=\"ml-2 rounded bg-muted px-2 py-1\">includeNodeModules</code> under\n      <code class=\"ml-2 rounded bg-muted px-2 py-1\">extensions.shared</code> (or override per extension).\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"disable-extensions\">\n    <accordiontrigger>Can I disable API routes or messages generation?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Yes. Set <code class=\"rounded bg-muted px-2 py-1\">extensions.apiRoutes.enabled</code> or\n      <code class=\"ml-2 rounded bg-muted px-2 py-1\">extensions.messages.enabled</code> to\n      <code class=\"ml-2 rounded bg-muted px-2 py-1\">false</code> in <code class=\"rounded bg-muted px-2 py-1\">duck-gen.toml</code>.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"global-prefix\">\n    <accordiontrigger>What does globalPrefix do?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      It prepends a shared base path (like <code class=\"rounded bg-muted px-2 py-1\">/api</code>) to all generated\n      routes so your client types match your server prefix.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"missing-routes\">\n    <accordiontrigger>Why are no routes generated?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Common causes:\n      <ul class=\"mt-2 list-disc pl-5\">\n        <li>Your route decorators use dynamic values instead of string literals.</li>\n        <li>Your <code class=\"rounded bg-muted px-2 py-1\">sourceGlobs</code> do not include the files.</li>\n        <li>Your <code class=\"rounded bg-muted px-2 py-1\">tsconfigPath</code> is incorrect.</li>\n      </ul>\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"messages-string\">\n    <accordiontrigger>Why are message keys just string?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Add <code class=\"rounded bg-muted px-2 py-1\">as const</code> to your message arrays so Duck Gen can infer\n      literal types.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"any-warnings\">\n    <accordiontrigger>How do I deal with any warnings?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Add explicit return types to your controller methods, or enable\n      <code class=\"rounded bg-muted px-2 py-1\">normalizeAnyToUnknown</code> so generated types avoid <code class=\"rounded bg-muted px-2 py-1\">any</code>.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"safe-to-run\">\n    <accordiontrigger>Is it safe to run Duck Gen in CI?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Yes. The generator overwrites the same output files every run, so it is safe to run repeatedly in CI or as part of\n      your build.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"source-changes\">\n    <accordiontrigger>Does Duck Gen modify my source code?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      No. It reads your source and writes generated <code class=\"rounded bg-muted px-2 py-1\">.d.ts</code> files to the\n      package output location.\n    </accordioncontent>\n  </accordionitem>\n  <accordionitem value=\"troubleshooting\">\n    <accordiontrigger>I still have issues. Where should I ask for help?</accordiontrigger>\n    <accordioncontent class=\"text-muted-foreground\">\n      Open an issue or discussion with your environment details and a small reproduction:\n      <div class=\"mt-3\">\n        <code class=\"rounded bg-muted px-2 py-1\">https://github.com/gentleeduck/duck-ui</code>\n      </div>\n    </accordioncontent>\n  </accordionitem>\n</accordion>",
    "description": "Frequently asked questions about Duck Gen, its config, and generated output.",
    "excerpt": "This FAQ focuses on Duck Gen usage, configuration, and generated output.\nIf you cannot find what you need, open an issue or discussion on GitHub:\nhttps://github.com/gentleeduck/duck-ui\n\n\n\n\n  \n    What is Duck Gen?\n    \n      Duck Gen is a general-purpose compi",
    "metadata": {
      "readingTime": 2,
      "wordCount": 518
    },
    "title": "faqs",
    "toc": [],
    "contentType": "mdx",
    "flattenedPath": "docs",
    "permalink": "faqs",
    "slug": "docs/faqs",
    "sourceFileDir": "content/docs",
    "sourceFileName": "faqs.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:e,jsx:n,jsxs:l}=arguments[0];function _createMdxContent(s){const a={a:\"a\",code:\"code\",div:\"div\",figcaption:\"figcaption\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...s.components};return l(e,{children:[l(a.h2,{id:\"what-is-duck-gen\",children:[n(a.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#what-is-duck-gen\",children:n(a.span,{className:\"icon icon-link\"})}),\"What is Duck Gen?\"]}),\"\\n\",n(a.p,{children:\"Duck Gen is a general-purpose compiler extension in the @gentleduck ecosystem. It scans\\nserver code and emits TypeScript definitions that describe API routes and message keys.\\nIt is designed for multiple frameworks and is currently being tested with NestJS. The goal\\nis simple: keep server contracts and client types aligned without manual sync work.\"}),\"\\n\",n(a.p,{children:\"If you have ever shipped a client without matching route types or drifted i18n\\nkeys, Duck Gen removes that pain.\"}),\"\\n\",l(a.h2,{id:\"the-human-behind-the-duck\",children:[n(a.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#the-human-behind-the-duck\",children:n(a.span,{className:\"icon icon-link\"})}),\"The Human Behind the Duck\"]}),\"\\n\",l(a.p,{children:[n(a.a,{href:\"https://github.com/wildduck2\",children:\"@wildduck2\"}),\" is the architect behind \",n(a.a,{href:\"https://github.com/gentleeduck\",children:\"@gentleduck\"}),\".\\nHe's not interested in building another abandoned open-source graveyard. He's obsessed with\\ncreating tools that developers actually want to use performant, maintainable, and battle-tested in\\nproduction environments.\"]}),\"\\n\",n(a.p,{children:\"He's also criminally responsive to community feedback. Got a bug? It gets fixed. Got a feature\\nrequest that makes sense? It gets seriously considered. No corporate bureaucracy, no waiting three\\nquarters for a minor patch. Just direct, honest development.\"}),\"\\n\",l(a.p,{children:[\"The entire \",n(a.a,{href:\"https://github.com/gentleeduck\",children:\"@gentleduck\"}),' organization exists because modern web\\ndevelopment shouldn\\'t feel like assembling IKEA furniture in the dark. Every library, every tool,\\nevery decision is made with one question: \"Does this actually help developers ship better products\\nfaster?\"']}),\"\\n\",l(a.h2,{id:\"why-duck-gen-exists\",children:[n(a.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#why-duck-gen-exists\",children:n(a.span,{className:\"icon icon-link\"})}),\"Why Duck Gen Exists\"]}),\"\\n\",n(a.p,{children:\"Typed routes and message keys should not be a manual chore. As a general-purpose compiler\\nextension, Duck Gen automates the contract layer so you can focus on building features.\"}),\"\\n\",n(a.p,{children:n(a.strong,{children:\"What you actually get:\"})}),\"\\n\",l(a.ul,{children:[\"\\n\",l(a.li,{children:[n(a.strong,{children:\"Typed routes, end to end\"}),\": Generate request and response types directly\\nfrom framework controllers (currently tested with NestJS).\"]}),\"\\n\",l(a.li,{children:[n(a.strong,{children:\"Message key safety\"}),\": Keep i18n dictionaries aligned with the constants you\\ndeclare in code.\"]}),\"\\n\",l(a.li,{children:[n(a.strong,{children:\"Configurable scanning\"}),\": Fine tune \",n(a.code,{__rawString__:\"sourceGlobs\",children:\"sourceGlobs\"}),\" and \",n(a.code,{__rawString__:\"tsconfigPath\",children:\"tsconfigPath\"}),\" so the\\ngenerator only touches what you want.\"]}),\"\\n\",l(a.li,{children:[n(a.strong,{children:\"Warnings with intent\"}),\": Duck Gen surfaces duplicate groups and \",n(a.code,{__rawString__:\"any\",children:\"any\"}),\"\\nreturns so you can fix contracts early.\"]}),\"\\n\",l(a.li,{children:[n(a.strong,{children:\"Built for automation\"}),\": Run it locally or in CI. Generated files are safe\\nto overwrite.\"]}),\"\\n\"]}),\"\\n\",l(a.h2,{id:\"contributing\",children:[n(a.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#contributing\",children:n(a.span,{className:\"icon icon-link\"})}),\"Contributing\"]}),\"\\n\",l(a.p,{children:[\"We want your contributions. Bug reports, feature requests, code, documentation improvements,\\nhot takes on generator ergonomics bring it all to our\\n\",n(a.a,{href:\"https://github.com/gentleeduck/duck-ui\",children:\"GitHub repository\"}),\".\"]}),\"\\n\",n(a.p,{children:\"Unlike projects run by committees, we move fast. Good ideas get implemented. Bad ideas get\\nrespectfully declined with actual reasoning. Contributions get reviewed by humans who remember\\nwhat it's like to be on the other side of a pull request.\"}),\"\\n\",l(a.p,{children:[\"The \",n(a.a,{href:\"https://github.com/gentleeduck\",children:\"@gentleduck\"}),\" community is built on mutual respect and the\\nshared understanding that we're all just trying to build cool stuff without losing our minds.\"]}),\"\\n\",l(a.h2,{id:\"getting-started-the-fast-version\",children:[n(a.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#getting-started-the-fast-version\",children:n(a.span,{className:\"icon icon-link\"})}),\"Getting Started (The Fast Version)\"]}),\"\\n\",l(a.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(a.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:n(a.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:\" add\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:\" -D\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:\" @gentleduck/gen\"})]})})}),n(a.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:n(a.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),n(a.span,{style:{color:\"#032F62\"},children:\" add\"}),n(a.span,{style:{color:\"#005CC5\"},children:\" -D\"}),n(a.span,{style:{color:\"#032F62\"},children:\" @gentleduck/gen\"})]})})})]}),\"\\n\",l(a.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(a.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"dark\",children:\"duck-gen.toml\"}),n(a.pre,{\"data-language\":\"toml\",\"data-theme\":\"dark\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:l(a.code,{\"data-language\":\"toml\",\"data-theme\":\"dark\",children:[l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"framework \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:' \"nestjs\"'})]}),\"\\n\",n(a.span,{className:\"line\",children:\" \"}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(a.span,{style:{color:\"#CDD6F4\"},children:\"extensions.shared\"}),n(a.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"sourceGlobs \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#9399B2\"},children:\" [\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:'\"src/**/*.ts\"'}),n(a.span,{style:{color:\"#9399B2\"},children:\",\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:' \"src/**/*.tsx\"'}),n(a.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"tsconfigPath \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:' \"./tsconfig.json\"'})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"includeNodeModules \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#FAB387\"},children:\" false\"})]}),\"\\n\",n(a.span,{className:\"line\",children:\" \"}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(a.span,{style:{color:\"#CDD6F4\"},children:\"extensions.apiRoutes\"}),n(a.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"globalPrefix \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:' \"/api\"'})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"normalizeAnyToUnknown \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",n(a.span,{className:\"line\",children:\" \"}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(a.span,{style:{color:\"#CDD6F4\"},children:\"extensions.messages\"}),n(a.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),n(a.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(a.span,{style:{color:\"#FAB387\"},children:\" true\"})]})]})}),n(a.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"light\",children:\"duck-gen.toml\"}),n(a.pre,{\"data-language\":\"toml\",\"data-theme\":\"light\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:l(a.code,{\"data-language\":\"toml\",\"data-theme\":\"light\",children:[l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"framework = \"}),n(a.span,{style:{color:\"#032F62\"},children:'\"nestjs\"'})]}),\"\\n\",n(a.span,{className:\"line\",children:\" \"}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"[\"}),n(a.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(a.span,{style:{color:\"#24292E\"},children:\".\"}),n(a.span,{style:{color:\"#6F42C1\"},children:\"shared\"}),n(a.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"sourceGlobs = [\"}),n(a.span,{style:{color:\"#032F62\"},children:'\"src/**/*.ts\"'}),n(a.span,{style:{color:\"#24292E\"},children:\", \"}),n(a.span,{style:{color:\"#032F62\"},children:'\"src/**/*.tsx\"'}),n(a.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"tsconfigPath = \"}),n(a.span,{style:{color:\"#032F62\"},children:'\"./tsconfig.json\"'})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"includeNodeModules = \"}),n(a.span,{style:{color:\"#005CC5\"},children:\"false\"})]}),\"\\n\",n(a.span,{className:\"line\",children:\" \"}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"[\"}),n(a.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(a.span,{style:{color:\"#24292E\"},children:\".\"}),n(a.span,{style:{color:\"#6F42C1\"},children:\"apiRoutes\"}),n(a.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),n(a.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"globalPrefix = \"}),n(a.span,{style:{color:\"#032F62\"},children:'\"/api\"'})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"normalizeAnyToUnknown = \"}),n(a.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",n(a.span,{className:\"line\",children:\" \"}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"[\"}),n(a.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(a.span,{style:{color:\"#24292E\"},children:\".\"}),n(a.span,{style:{color:\"#6F42C1\"},children:\"messages\"}),n(a.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),n(a.span,{style:{color:\"#005CC5\"},children:\"true\"})]})]})})]}),\"\\n\",l(a.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(a.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm exec duck-gen\",children:n(a.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:\" exec\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:\" duck-gen\"})]})})}),n(a.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm exec duck-gen\",children:n(a.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),n(a.span,{style:{color:\"#032F62\"},children:\" exec\"}),n(a.span,{style:{color:\"#032F62\"},children:\" duck-gen\"})]})})})]}),\"\\n\",l(a.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(a.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\",children:n(a.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),n(a.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),n(a.span,{style:{color:\"#9399B2\"},children:\" {\"}),n(a.span,{style:{color:\"#CDD6F4\"},children:\" RouteReq\"}),n(a.span,{style:{color:\"#9399B2\"},children:\",\"}),n(a.span,{style:{color:\"#CDD6F4\"},children:\" RouteRes \"}),n(a.span,{style:{color:\"#9399B2\"},children:\"}\"}),n(a.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),n(a.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]})})}),n(a.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\",children:n(a.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:l(a.span,{className:\"line\",children:[n(a.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(a.span,{style:{color:\"#D73A49\"},children:\" type\"}),n(a.span,{style:{color:\"#24292E\"},children:\" { RouteReq, RouteRes } \"}),n(a.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(a.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]})})})]}),\"\\n\",l(a.p,{children:[\"See the \",n(a.a,{href:\"/docs/duck-gen\",children:\"Duck Gen core guide\"}),\" for full configuration and usage.\"]})]})}return{default:function(e={}){const{wrapper:l}=e.components||{};return l?n(l,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "component": false,
    "content": "<h2>What is Duck Gen?</h2>\n<p>Duck Gen is a general-purpose compiler extension in the @gentleduck ecosystem. It scans\nserver code and emits TypeScript definitions that describe API routes and message keys.\nIt is designed for multiple frameworks and is currently being tested with NestJS. The goal\nis simple: keep server contracts and client types aligned without manual sync work.</p>\n<p>If you have ever shipped a client without matching route types or drifted i18n\nkeys, Duck Gen removes that pain.</p>\n<h2>The Human Behind the Duck</h2>\n<p><a href=\"https://github.com/wildduck2\">@wildduck2</a> is the architect behind <a href=\"https://github.com/gentleeduck\">@gentleduck</a>.\nHe's not interested in building another abandoned open-source graveyard. He's obsessed with\ncreating tools that developers actually want to use performant, maintainable, and battle-tested in\nproduction environments.</p>\n<p>He's also criminally responsive to community feedback. Got a bug? It gets fixed. Got a feature\nrequest that makes sense? It gets seriously considered. No corporate bureaucracy, no waiting three\nquarters for a minor patch. Just direct, honest development.</p>\n<p>The entire <a href=\"https://github.com/gentleeduck\">@gentleduck</a> organization exists because modern web\ndevelopment shouldn't feel like assembling IKEA furniture in the dark. Every library, every tool,\nevery decision is made with one question: \"Does this actually help developers ship better products\nfaster?\"</p>\n<h2>Why Duck Gen Exists</h2>\n<p>Typed routes and message keys should not be a manual chore. As a general-purpose compiler\nextension, Duck Gen automates the contract layer so you can focus on building features.</p>\n<p><strong>What you actually get:</strong></p>\n<ul>\n<li><strong>Typed routes, end to end</strong>: Generate request and response types directly\nfrom framework controllers (currently tested with NestJS).</li>\n<li><strong>Message key safety</strong>: Keep i18n dictionaries aligned with the constants you\ndeclare in code.</li>\n<li><strong>Configurable scanning</strong>: Fine tune <code>sourceGlobs</code> and <code>tsconfigPath</code> so the\ngenerator only touches what you want.</li>\n<li><strong>Warnings with intent</strong>: Duck Gen surfaces duplicate groups and <code>any</code>\nreturns so you can fix contracts early.</li>\n<li><strong>Built for automation</strong>: Run it locally or in CI. Generated files are safe\nto overwrite.</li>\n</ul>\n<h2>Contributing</h2>\n<p>We want your contributions. Bug reports, feature requests, code, documentation improvements,\nhot takes on generator ergonomics bring it all to our\n<a href=\"https://github.com/gentleeduck/duck-ui\">GitHub repository</a>.</p>\n<p>Unlike projects run by committees, we move fast. Good ideas get implemented. Bad ideas get\nrespectfully declined with actual reasoning. Contributions get reviewed by humans who remember\nwhat it's like to be on the other side of a pull request.</p>\n<p>The <a href=\"https://github.com/gentleeduck\">@gentleduck</a> community is built on mutual respect and the\nshared understanding that we're all just trying to build cool stuff without losing our minds.</p>\n<h2>Getting Started (The Fast Version)</h2>\n<pre><code class=\"language-bash\">pnpm add -D @gentleduck/gen\n</code></pre>\n<pre><code class=\"language-toml\" metastring=\"title=&#x22;duck-gen.toml&#x22;\">framework = \"nestjs\"\n\n[extensions.shared]\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\ntsconfigPath = \"./tsconfig.json\"\nincludeNodeModules = false\n\n[extensions.apiRoutes]\nenabled = true\nglobalPrefix = \"/api\"\nnormalizeAnyToUnknown = true\n\n[extensions.messages]\nenabled = true\n</code></pre>\n<pre><code class=\"language-bash\">pnpm exec duck-gen\n</code></pre>\n<pre><code class=\"language-ts\">import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\n</code></pre>\n<p>See the <a href=\"/docs/duck-gen\">Duck Gen core guide</a> for full configuration and usage.</p>",
    "description": "General-purpose compiler extension for type-safe routes and message keys, currently tested with NestJS.",
    "excerpt": "What is Duck Gen?\nDuck Gen is a general-purpose compiler extension in the @gentleduck ecosystem. It scans\nserver code and emits TypeScript definitions that describe API routes and message keys.\nIt is designed for multiple frameworks and is currently being test",
    "metadata": {
      "readingTime": 2,
      "wordCount": 463
    },
    "title": "introduction",
    "toc": [
      {
        "title": "What is Duck Gen?",
        "url": "#what-is-duck-gen",
        "items": []
      },
      {
        "title": "The Human Behind the Duck",
        "url": "#the-human-behind-the-duck",
        "items": []
      },
      {
        "title": "Why Duck Gen Exists",
        "url": "#why-duck-gen-exists",
        "items": []
      },
      {
        "title": "Contributing",
        "url": "#contributing",
        "items": []
      },
      {
        "title": "Getting Started (The Fast Version)",
        "url": "#getting-started-the-fast-version",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "docs",
    "permalink": "index",
    "slug": "docs/index",
    "sourceFileDir": "content/docs",
    "sourceFileName": "index.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:l,jsx:e,jsxs:n}=arguments[0];function _createMdxContent(s){const r={a:\"a\",code:\"code\",div:\"div\",figcaption:\"figcaption\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...s.components};return n(l,{children:[e(r.p,{children:\"This is a complete, minimal example showing Duck Gen with NestJS and Duck Query. It links the backend contract to a\\ntype-safe client, includes a DTO file, a constants file for messages, and a controller file, plus the minimum wiring to\\nmake it realistic.\"}),\"\\n\",n(r.h2,{id:\"client-to-server-flow\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#client-to-server-flow\",children:e(r.span,{className:\"icon icon-link\"})}),\"Client to server flow\"]}),\"\\n\",n(r.ol,{children:[\"\\n\",e(r.li,{children:\"Define messages and DTOs in the backend.\"}),\"\\n\",e(r.li,{children:\"Annotate message tags for Duck Gen scanning.\"}),\"\\n\",n(r.li,{children:[\"Run Duck Gen to generate \",e(r.code,{__rawString__:\"ApiRoutes\",children:\"ApiRoutes\"}),\" and i18n message types.\"]}),\"\\n\",e(r.li,{children:\"Use Duck Query on the client to call routes with full type safety.\"}),\"\\n\",e(r.li,{children:\"Use generated i18n types to keep server messages and client translations in sync.\"}),\"\\n\"]}),\"\\n\",n(r.h2,{id:\"file-layout\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#file-layout\",children:e(r.span,{className:\"icon icon-link\"})}),\"File layout\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.pre,{\"data-language\":\"text\",\"data-theme\":\"dark\",__rawString__:\".\\n duck-gen.toml\\n backend\\n    src\\n       common\\n          constants.ts\\n          types\\n              api.types.ts\\n       modules\\n           auth\\n               auth.constants.ts\\n               auth.controller.ts\\n               auth.dto.ts\\n               auth.filters.ts\\n               auth.module.ts\\n               auth.service.ts\\n               auth.types.ts\\n               index.ts\\n client\\n     auth.query.ts\",children:n(r.code,{\"data-language\":\"text\",\"data-theme\":\"dark\",children:[e(r.span,{className:\"line\",children:e(r.span,{children:\".\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\" duck-gen.toml\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\" backend\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"    src\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"       common\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"          constants.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"          types\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"              api.types.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"       modules\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"           auth\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.constants.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.controller.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.dto.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.filters.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.module.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.service.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.types.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               index.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\" client\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"     auth.query.ts\"})})]})}),e(r.pre,{\"data-language\":\"text\",\"data-theme\":\"light\",__rawString__:\".\\n duck-gen.toml\\n backend\\n    src\\n       common\\n          constants.ts\\n          types\\n              api.types.ts\\n       modules\\n           auth\\n               auth.constants.ts\\n               auth.controller.ts\\n               auth.dto.ts\\n               auth.filters.ts\\n               auth.module.ts\\n               auth.service.ts\\n               auth.types.ts\\n               index.ts\\n client\\n     auth.query.ts\",children:n(r.code,{\"data-language\":\"text\",\"data-theme\":\"light\",children:[e(r.span,{className:\"line\",children:e(r.span,{children:\".\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\" duck-gen.toml\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\" backend\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"    src\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"       common\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"          constants.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"          types\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"              api.types.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"       modules\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"           auth\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.constants.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.controller.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.dto.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.filters.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.module.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.service.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               auth.types.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"               index.ts\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\" client\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{children:\"     auth.query.ts\"})})]})})]}),\"\\n\",n(r.h2,{id:\"duck-gentoml\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#duck-gentoml\",children:e(r.span,{className:\"icon icon-link\"})}),\"duck-gen.toml\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"dark\",children:\"duck-gen.toml\"}),e(r.pre,{\"data-language\":\"toml\",\"data-theme\":\"dark\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:n(r.code,{\"data-language\":\"toml\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"framework \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:' \"nestjs\"'})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.shared\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"sourceGlobs \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" [\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:'\"src/**/*.ts\"'}),e(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"tsconfigPath \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:' \"./tsconfig.json\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"includeNodeModules \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" false\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.apiRoutes\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"globalPrefix \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:' \"/api\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"normalizeAnyToUnknown \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.messages\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"light\",children:\"duck-gen.toml\"}),e(r.pre,{\"data-language\":\"toml\",\"data-theme\":\"light\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:n(r.code,{\"data-language\":\"toml\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"framework = \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"nestjs\"'})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"[\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),e(r.span,{style:{color:\"#24292E\"},children:\".\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"shared\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"sourceGlobs = [\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"src/**/*.ts\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tsconfigPath = \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"./tsconfig.json\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"includeNodeModules = \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"false\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"[\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),e(r.span,{style:{color:\"#24292E\"},children:\".\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"apiRoutes\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"globalPrefix = \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"/api\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"normalizeAnyToUnknown = \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"[\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),e(r.span,{style:{color:\"#24292E\"},children:\".\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"messages\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]})]})})]}),\"\\n\",n(r.h2,{id:\"link-the-client-to-the-backend\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#link-the-client-to-the-backend\",children:e(r.span,{className:\"icon icon-link\"})}),\"Link the client to the backend\"]}),\"\\n\",n(r.p,{children:[\"Duck Gen reads your NestJS controllers + DTOs (via \",e(r.code,{__rawString__:\"duck-gen.toml\",children:\"duck-gen.toml\"}),\") and generates \",e(r.code,{__rawString__:\"ApiRoutes\",children:\"ApiRoutes\"}),\". Duck Query then uses\\n\",e(r.code,{__rawString__:\"ApiRoutes\",children:\"ApiRoutes\"}),\" to make calls like \",e(r.code,{__rawString__:\"/api/auth/signin\",children:\"/api/auth/signin\"}),\" fully type-safe. Keep the controller paths and \",e(r.code,{__rawString__:\"globalPrefix\",children:\"globalPrefix\"}),\" aligned\\nwith the client routes so the contract stays accurate.\"]}),\"\\n\",n(r.h2,{id:\"server-side-nestjs\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#server-side-nestjs\",children:e(r.span,{className:\"icon icon-link\"})}),\"Server-side (NestJS)\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/common/constants.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"export const ZodMessages = {\\n  ZOD_EXPECTED_STRING: 'ZOD_EXPECTED_STRING',\\n  ZOD_TOO_LONG: 'ZOD_TOO_LONG',\\n  ZOD_TOO_SHORT: 'ZOD_TOO_SHORT',\\n} as const\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ZodMessages \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  ZOD_EXPECTED_STRING\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'ZOD_EXPECTED_STRING'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  ZOD_TOO_LONG\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'ZOD_TOO_LONG'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  ZOD_TOO_SHORT\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'ZOD_TOO_SHORT'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" as\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" const\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/common/constants.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"export const ZodMessages = {\\n  ZOD_EXPECTED_STRING: 'ZOD_EXPECTED_STRING',\\n  ZOD_TOO_LONG: 'ZOD_TOO_LONG',\\n  ZOD_TOO_SHORT: 'ZOD_TOO_SHORT',\\n} as const\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" ZodMessages\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  ZOD_EXPECTED_STRING: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_EXPECTED_STRING'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  ZOD_TOO_LONG: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_TOO_LONG'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  ZOD_TOO_SHORT: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_TOO_SHORT'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"} \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" const\"})]})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/common/types/api.types.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"export type Response<M extends string, T> =\\n  | {\\n      state: 'success'\\n      message: M\\n      data: T\\n    }\\n  | {\\n      state: 'error'\\n      message: M\\n      data: null\\n    }\\n \\nexport type ResponseType<TFn extends (...args: any[]) => any, M extends string> =\\n  Awaited<ReturnType<TFn>> extends infer TData ? Response<M, TData> : never\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Response\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"M \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"extends\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" T\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" =\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#94E2D5\"},children:\"  |\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"      state\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),e(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"success\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"      message\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" M\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"      data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" T\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    }\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#94E2D5\"},children:\"  |\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"      state\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),e(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"error\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"      message\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" M\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"      data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\",fontStyle:\"italic\"},children:\" null\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" ResponseType\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"TFn \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"extends\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" (\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"...\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"args\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" any\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"[]\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" =>\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" any\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" M \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"extends\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" =\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"  Awaited\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"ReturnType\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"TFn\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">>\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" extends\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" infer\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" TData \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"?\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Response\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"M\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" TData\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" :\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/common/types/api.types.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"export type Response<M extends string, T> =\\n  | {\\n      state: 'success'\\n      message: M\\n      data: T\\n    }\\n  | {\\n      state: 'error'\\n      message: M\\n      data: null\\n    }\\n \\nexport type ResponseType<TFn extends (...args: any[]) => any, M extends string> =\\n  Awaited<ReturnType<TFn>> extends infer TData ? Response<M, TData> : never\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" Response\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"M\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" extends\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"T\"}),e(r.span,{style:{color:\"#24292E\"},children:\"> \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  |\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"      state\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'success'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"      message\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" M\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"      data\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" T\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    }\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  |\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"      state\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'error'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"      message\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" M\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"      data\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" null\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" ResponseType\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"TFn\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" extends\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"...\"}),e(r.span,{style:{color:\"#E36209\"},children:\"args\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" any\"}),e(r.span,{style:{color:\"#24292E\"},children:\"[]) \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=>\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" any\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"M\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" extends\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\"> \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"  Awaited\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"ReturnType\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"TFn\"}),e(r.span,{style:{color:\"#24292E\"},children:\">> \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"extends\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" infer\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" TData\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" ?\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" Response\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"M\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"TData\"}),e(r.span,{style:{color:\"#24292E\"},children:\"> \"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.constants.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { ZodMessages } from '~/common/constants'\\n \\n/**\\n * @duckgen messages\\n */\\nexport const AuthMessages = [\\n  'AUTH_SIGNIN_SUCCESS',\\n  'AUTH_USERNAME_INVALID',\\n  'AUTH_PASSWORD_INVALID',\\n  'AUTH_SIGNIN_FAILED',\\n \\n  // include shared zod messages\\n  ...Object.values(ZodMessages),\\n] as const\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ZodMessages \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '~/common/constants'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"/**\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\" * \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"@\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"duckgen\"}),e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\" messages\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\" */\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthMessages \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" [\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#A6E3A1\"},children:\"  'AUTH_SIGNIN_SUCCESS'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#A6E3A1\"},children:\"  'AUTH_USERNAME_INVALID'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#A6E3A1\"},children:\"  'AUTH_PASSWORD_INVALID'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#A6E3A1\"},children:\"  'AUTH_SIGNIN_FAILED'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"  // include shared zod messages\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#94E2D5\"},children:\"  ...\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"Object\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"values\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(ZodMessages)\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"] \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"as\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" const\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.constants.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { ZodMessages } from '~/common/constants'\\n \\n/**\\n * @duckgen messages\\n */\\nexport const AuthMessages = [\\n  'AUTH_SIGNIN_SUCCESS',\\n  'AUTH_USERNAME_INVALID',\\n  'AUTH_PASSWORD_INVALID',\\n  'AUTH_SIGNIN_FAILED',\\n \\n  // include shared zod messages\\n  ...Object.values(ZodMessages),\\n] as const\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { ZodMessages } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '~/common/constants'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"/**\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6A737D\"},children:\" * \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"@duckgen\"}),e(r.span,{style:{color:\"#6A737D\"},children:\" messages\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\" */\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" AuthMessages\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" [\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"  'AUTH_SIGNIN_SUCCESS'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"  'AUTH_USERNAME_INVALID'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"  'AUTH_PASSWORD_INVALID'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"  'AUTH_SIGNIN_FAILED'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"  // include shared zod messages\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  ...\"}),e(r.span,{style:{color:\"#24292E\"},children:\"Object.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"values\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(ZodMessages),\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"] \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" const\"})]})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.types.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { AuthMessages } from './auth.constants'\\n \\nexport type AuthMessage = (typeof AuthMessages)[number]\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthMessages \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.constants'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthMessage \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" (\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"typeof\"}),e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" AuthMessages\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\")[\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"number\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"]\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.types.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { AuthMessages } from './auth.constants'\\n \\nexport type AuthMessage = (typeof AuthMessages)[number]\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthMessages } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.constants'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" AuthMessage\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"typeof\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AuthMessages)[\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"number\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.dto.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { z } from 'zod'\\nimport type { AuthMessage } from './auth.types'\\n \\nconst errorMessage = <T extends AuthMessage>(message: T) => ({ message })\\n \\nconst string = z\\n  .string({ ...errorMessage('ZOD_EXPECTED_STRING') })\\n  .max(30, { ...errorMessage('ZOD_TOO_LONG') })\\n \\nexport const signinSchema = z.object({\\n  password: string.min(8, { ...errorMessage('ZOD_TOO_SHORT') }),\\n  username: string.min(3, { ...errorMessage('ZOD_TOO_SHORT') }),\\n})\\n \\nexport type SigninDto = z.infer<typeof signinSchema>\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" z \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'zod'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthMessage \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.types'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" errorMessage\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" =\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\" <\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"T \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"extends\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthMessage\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"message\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" T\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" =>\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" (\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" message \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" string \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" z\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#94E2D5\"},children:\"  .\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"string\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" ...\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'ZOD_EXPECTED_STRING'\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\") \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#94E2D5\"},children:\"  .\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"max\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"30\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" ...\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'ZOD_TOO_LONG'\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\") \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" signinSchema \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" z\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"object\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  password\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" string\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"min\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"8\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" ...\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'ZOD_TOO_SHORT'\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\") \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  username\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" string\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"min\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"3\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" ...\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'ZOD_TOO_SHORT'\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\") \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SigninDto \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" z\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"infer\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"typeof\"}),e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" signinSchema\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.dto.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { z } from 'zod'\\nimport type { AuthMessage } from './auth.types'\\n \\nconst errorMessage = <T extends AuthMessage>(message: T) => ({ message })\\n \\nconst string = z\\n  .string({ ...errorMessage('ZOD_EXPECTED_STRING') })\\n  .max(30, { ...errorMessage('ZOD_TOO_LONG') })\\n \\nexport const signinSchema = z.object({\\n  password: string.min(8, { ...errorMessage('ZOD_TOO_SHORT') }),\\n  username: string.min(3, { ...errorMessage('ZOD_TOO_SHORT') }),\\n})\\n \\nexport type SigninDto = z.infer<typeof signinSchema>\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { z } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'zod'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthMessage } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.types'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" errorMessage\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" <\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"T\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" extends\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" AuthMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\">(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"message\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" T\"}),e(r.span,{style:{color:\"#24292E\"},children:\") \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" ({ message })\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" z\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  .\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"string\"}),e(r.span,{style:{color:\"#24292E\"},children:\"({ \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"...\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_EXPECTED_STRING'\"}),e(r.span,{style:{color:\"#24292E\"},children:\") })\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  .\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"max\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"30\"}),e(r.span,{style:{color:\"#24292E\"},children:\", { \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"...\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_TOO_LONG'\"}),e(r.span,{style:{color:\"#24292E\"},children:\") })\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" signinSchema\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" z.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"object\"}),e(r.span,{style:{color:\"#24292E\"},children:\"({\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  password: string.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"min\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", { \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"...\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_TOO_SHORT'\"}),e(r.span,{style:{color:\"#24292E\"},children:\") }),\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  username: string.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"min\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"3\"}),e(r.span,{style:{color:\"#24292E\"},children:\", { \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"...\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"errorMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ZOD_TOO_SHORT'\"}),e(r.span,{style:{color:\"#24292E\"},children:\") }),\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"})\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" SigninDto\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" z\"}),e(r.span,{style:{color:\"#24292E\"},children:\".\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"infer\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"typeof\"}),e(r.span,{style:{color:\"#24292E\"},children:\" signinSchema>\"})]})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.utils.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { HttpException, HttpStatus } from '@nestjs/common'\\n \\nexport function throwError<M extends string>(message: M, statusCode: number): never {\\n  throw new HttpException({ message }, statusCode as HttpStatus)\\n}\\n \\nexport class PasswordHasher {\\n  static async comparePassword(_plain: string, _hash: string) {\\n    // Replace with your real hashing, bcrypt/argon2, etc.\\n    return _plain === '123456' && _hash === 'hashed'\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" HttpException\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" HttpStatus \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/common'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" function\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" throwError\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"M \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"extends\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"message\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" M\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" statusCode\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" number\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  throw\"}),e(r.span,{style:{color:\"#CBA6F7\",fontWeight:\"bold\"},children:\" new\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" HttpException\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" message \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"},\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" statusCode \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"as\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" HttpStatus\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" PasswordHasher\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  static\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" async\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" comparePassword\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"_plain\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" _hash\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"    // Replace with your real hashing, bcrypt/argon2, etc.\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    return\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" _plain \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"===\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '123456'\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" &&\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" _hash \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"===\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'hashed'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.utils.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { HttpException, HttpStatus } from '@nestjs/common'\\n \\nexport function throwError<M extends string>(message: M, statusCode: number): never {\\n  throw new HttpException({ message }, statusCode as HttpStatus)\\n}\\n \\nexport class PasswordHasher {\\n  static async comparePassword(_plain: string, _hash: string) {\\n    // Replace with your real hashing, bcrypt/argon2, etc.\\n    return _plain === '123456' && _hash === 'hashed'\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { HttpException, HttpStatus } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/common'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" function\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" throwError\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"M\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" extends\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\">(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"message\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" M\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"statusCode\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" number\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" never\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  throw\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" new\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" HttpException\"}),e(r.span,{style:{color:\"#24292E\"},children:\"({ message }, statusCode \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" HttpStatus\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" PasswordHasher\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  static\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" async\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" comparePassword\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"_plain\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"_hash\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\") {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"    // Replace with your real hashing, bcrypt/argon2, etc.\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),e(r.span,{style:{color:\"#24292E\"},children:\" _plain \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"===\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '123456'\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" &&\"}),e(r.span,{style:{color:\"#24292E\"},children:\" _hash \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"===\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'hashed'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.filters.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type { ArgumentsHost, ExceptionFilter } from '@nestjs/common'\\nimport { Catch, HttpException } from '@nestjs/common'\\n \\n@Catch(HttpException)\\nexport class ErrorExceptionFilter implements ExceptionFilter {\\n  catch(exception: HttpException, host: ArgumentsHost) {\\n    const ctx = host.switchToHttp()\\n    const res = ctx.getResponse()\\n \\n    const status = exception.getStatus()\\n    const body = exception.getResponse() as any\\n \\n    // Normalize to a simple shape for the client\\n    res.status(status).json({\\n      state: 'error',\\n      message: body?.message ?? 'UNKNOWN_ERROR',\\n      data: null,\\n    })\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ArgumentsHost\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ExceptionFilter \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Catch\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" HttpException \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/common'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@Catch\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"HttpException\"}),e(r.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" ErrorExceptionFilter\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" implements\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" ExceptionFilter\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"  catch\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"exception\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" HttpException\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" host\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" ArgumentsHost\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ctx \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" host\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"switchToHttp\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" res \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ctx\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"getResponse\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"()\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" status \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" exception\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"getStatus\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" body \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" exception\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"getResponse\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"() \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"as\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" any\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"    // Normalize to a simple shape for the client\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"    res\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"status\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(status)\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"json\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      state\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'error'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      message\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" body\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"?.\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"message \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"??\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'UNKNOWN_ERROR'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" null\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"    }\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.filters.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type { ArgumentsHost, ExceptionFilter } from '@nestjs/common'\\nimport { Catch, HttpException } from '@nestjs/common'\\n \\n@Catch(HttpException)\\nexport class ErrorExceptionFilter implements ExceptionFilter {\\n  catch(exception: HttpException, host: ArgumentsHost) {\\n    const ctx = host.switchToHttp()\\n    const res = ctx.getResponse()\\n \\n    const status = exception.getStatus()\\n    const body = exception.getResponse() as any\\n \\n    // Normalize to a simple shape for the client\\n    res.status(status).json({\\n      state: 'error',\\n      message: body?.message ?? 'UNKNOWN_ERROR',\\n      data: null,\\n    })\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { ArgumentsHost, ExceptionFilter } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { Catch, HttpException } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/common'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"@\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Catch\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(HttpException)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" ErrorExceptionFilter\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" implements\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" ExceptionFilter\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"  catch\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"exception\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" HttpException\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"host\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" ArgumentsHost\"}),e(r.span,{style:{color:\"#24292E\"},children:\") {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" ctx\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" host.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"switchToHttp\"}),e(r.span,{style:{color:\"#24292E\"},children:\"()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" res\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" ctx.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"getResponse\"}),e(r.span,{style:{color:\"#24292E\"},children:\"()\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" status\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" exception.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"getStatus\"}),e(r.span,{style:{color:\"#24292E\"},children:\"()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" body\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" exception.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"getResponse\"}),e(r.span,{style:{color:\"#24292E\"},children:\"() \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" any\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"    // Normalize to a simple shape for the client\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    res.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"status\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(status).\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"json\"}),e(r.span,{style:{color:\"#24292E\"},children:\"({\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"      state: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'error'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"      message: body?.message \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"??\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'UNKNOWN_ERROR'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"      data: \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"null\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    })\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.service.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { Injectable } from '@nestjs/common'\\nimport type { AuthMessage } from './auth.types'\\nimport type { SigninDto } from './auth.dto'\\nimport { PasswordHasher, throwError } from './auth.utils'\\n \\ntype User = { id: string; username: string }\\n \\n@Injectable()\\nexport class AuthService {\\n  // Replace with your DB implementation\\n  private fakeUser = { id: '1', username: 'duck', password_hash: 'hashed' }\\n \\n  async signin(data: SigninDto): Promise<User> {\\n    try {\\n      const user = data.username === this.fakeUser.username ? this.fakeUser : null\\n \\n      if (!user) {\\n        throwError<AuthMessage>('AUTH_USERNAME_INVALID', 401)\\n      }\\n \\n      const passwordMatch = await PasswordHasher.comparePassword(data.password, user.password_hash)\\n      if (!passwordMatch) {\\n        throwError<AuthMessage>('AUTH_PASSWORD_INVALID', 401)\\n      }\\n \\n      return { id: user.id, username: user.username }\\n    } catch {\\n      // if it was already a typed error filter will handle it\\n      throwError<AuthMessage>('AUTH_SIGNIN_FAILED', 500)\\n    }\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Injectable \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthMessage \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.types'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" SigninDto \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.dto'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" PasswordHasher\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" throwError \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.utils'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" User \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" id\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#9399B2\"},children:\";\"}),e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" username\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"@Injectable\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthService\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"  // Replace with your DB implementation\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  private\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" fakeUser \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" id\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '1'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" username\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'duck'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" password_hash\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'hashed'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  async\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" signin\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SigninDto\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Promise\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"User\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    try\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"      const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" user \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"username \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"===\"}),e(r.span,{style:{color:\"#F38BA8\"},children:\" this\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"fakeUser\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"username \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"?\"}),e(r.span,{style:{color:\"#F38BA8\"},children:\" this\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"fakeUser \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" null\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"      if\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" (\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"!\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"user) \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"        throwError\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'AUTH_USERNAME_INVALID'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" 401\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"      }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"      const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" passwordMatch \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" await\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" PasswordHasher\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"comparePassword\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"password\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" user\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"password_hash)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"      if\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" (\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"!\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"passwordMatch) \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"        throwError\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'AUTH_PASSWORD_INVALID'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" 401\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"      }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"      return\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" id\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" user\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"id\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" username\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" user\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"username \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"    }\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" catch\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"      // if it was already a typed error filter will handle it\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"      throwError\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'AUTH_SIGNIN_FAILED'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" 500\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.service.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { Injectable } from '@nestjs/common'\\nimport type { AuthMessage } from './auth.types'\\nimport type { SigninDto } from './auth.dto'\\nimport { PasswordHasher, throwError } from './auth.utils'\\n \\ntype User = { id: string; username: string }\\n \\n@Injectable()\\nexport class AuthService {\\n  // Replace with your DB implementation\\n  private fakeUser = { id: '1', username: 'duck', password_hash: 'hashed' }\\n \\n  async signin(data: SigninDto): Promise<User> {\\n    try {\\n      const user = data.username === this.fakeUser.username ? this.fakeUser : null\\n \\n      if (!user) {\\n        throwError<AuthMessage>('AUTH_USERNAME_INVALID', 401)\\n      }\\n \\n      const passwordMatch = await PasswordHasher.comparePassword(data.password, user.password_hash)\\n      if (!passwordMatch) {\\n        throwError<AuthMessage>('AUTH_PASSWORD_INVALID', 401)\\n      }\\n \\n      return { id: user.id, username: user.username }\\n    } catch {\\n      // if it was already a typed error filter will handle it\\n      throwError<AuthMessage>('AUTH_SIGNIN_FAILED', 500)\\n    }\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { Injectable } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthMessage } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.types'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { SigninDto } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.dto'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { PasswordHasher, throwError } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.utils'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" User\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { \"}),e(r.span,{style:{color:\"#E36209\"},children:\"id\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\"; \"}),e(r.span,{style:{color:\"#E36209\"},children:\"username\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" string\"}),e(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"@\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Injectable\"}),e(r.span,{style:{color:\"#24292E\"},children:\"()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" AuthService\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"  // Replace with your DB implementation\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  private\"}),e(r.span,{style:{color:\"#E36209\"},children:\" fakeUser\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { id: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'1'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", username: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'duck'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", password_hash: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'hashed'\"}),e(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  async\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" signin\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"data\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" SigninDto\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" Promise\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"User\"}),e(r.span,{style:{color:\"#24292E\"},children:\"> {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    try\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"      const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" user\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" data.username \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"===\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" this\"}),e(r.span,{style:{color:\"#24292E\"},children:\".fakeUser.username \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"?\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" this\"}),e(r.span,{style:{color:\"#24292E\"},children:\".fakeUser \"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" null\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"      if\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"!\"}),e(r.span,{style:{color:\"#24292E\"},children:\"user) {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        throwError\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\">(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'AUTH_USERNAME_INVALID'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"401\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"      const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" passwordMatch\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" await\"}),e(r.span,{style:{color:\"#24292E\"},children:\" PasswordHasher.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"comparePassword\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(data.password, user.password_hash)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"      if\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"!\"}),e(r.span,{style:{color:\"#24292E\"},children:\"passwordMatch) {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        throwError\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\">(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'AUTH_PASSWORD_INVALID'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"401\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"      return\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { id: user.id, username: user.username }\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"catch\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"      // if it was already a typed error filter will handle it\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"      throwError\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\">(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'AUTH_SIGNIN_FAILED'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"500\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.controller.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { Body, Controller, Post, Session, UseFilters } from '@nestjs/common'\\nimport { ZodValidationPipe } from '@nestjs/zod'\\nimport { signinSchema, type SigninDto } from './auth.dto'\\nimport { AuthService } from './auth.service'\\nimport { ErrorExceptionFilter } from './auth.filters'\\nimport type { AuthMessage } from './auth.types'\\nimport type { ResponseType } from '~/common/types/api.types'\\n \\ntype SessionData = { user?: unknown }\\n \\nclass EmailService {\\n  // placeholder to show realistic dependency wiring\\n}\\n \\n@Controller('auth')\\n@UseFilters(ErrorExceptionFilter)\\nexport class AuthController {\\n  constructor(\\n    private readonly authService: AuthService,\\n    private readonly emailService: EmailService,\\n  ) {}\\n \\n  @Post('signin')\\n  async signin(\\n    @Body(new ZodValidationPipe(signinSchema)) body: SigninDto,\\n    @Session() session: SessionData,\\n  ): Promise<ResponseType<typeof this.authService.signin, AuthMessage>> {\\n    const data = await this.authService.signin(body)\\n    session.user = data as never\\n \\n    return {\\n      data,\\n      message: 'AUTH_SIGNIN_SUCCESS',\\n      state: 'success',\\n    }\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Body\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Controller\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Post\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Session\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" UseFilters \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ZodValidationPipe \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/zod'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" signinSchema\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" SigninDto \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.dto'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthService \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.service'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ErrorExceptionFilter \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.filters'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthMessage \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.types'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ResponseType \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '~/common/types/api.types'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SessionData \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\" user\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"?:\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" unknown\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" }\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"  // placeholder to show realistic dependency wiring\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@Controller\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'auth'\"}),e(r.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@UseFilters\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"ErrorExceptionFilter\"}),e(r.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthController\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  constructor\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    private\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" readonly\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" authService\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthService\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    private\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" readonly\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" emailService\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"  )\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {}\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"  @Post\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'signin'\"}),e(r.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  async\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" signin\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"    @Body\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#CBA6F7\",fontWeight:\"bold\"},children:\"new\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" ZodValidationPipe\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"signinSchema\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"))\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" body\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SigninDto\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"    @Session\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"()\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" session\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SessionData\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"  )\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Promise\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"ResponseType\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"typeof\"}),e(r.span,{style:{color:\"#F38BA8\",fontStyle:\"italic\"},children:\" this\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"authService\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\",fontStyle:\"italic\"},children:\"signin\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthMessage\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">>\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" data \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" await\"}),e(r.span,{style:{color:\"#F38BA8\"},children:\" this\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"authService\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"signin\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(body)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"    session\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"user \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" data \"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\"as\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" never\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    return\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      data\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      message\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'AUTH_SIGNIN_SUCCESS'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      state\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'success'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.controller.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { Body, Controller, Post, Session, UseFilters } from '@nestjs/common'\\nimport { ZodValidationPipe } from '@nestjs/zod'\\nimport { signinSchema, type SigninDto } from './auth.dto'\\nimport { AuthService } from './auth.service'\\nimport { ErrorExceptionFilter } from './auth.filters'\\nimport type { AuthMessage } from './auth.types'\\nimport type { ResponseType } from '~/common/types/api.types'\\n \\ntype SessionData = { user?: unknown }\\n \\nclass EmailService {\\n  // placeholder to show realistic dependency wiring\\n}\\n \\n@Controller('auth')\\n@UseFilters(ErrorExceptionFilter)\\nexport class AuthController {\\n  constructor(\\n    private readonly authService: AuthService,\\n    private readonly emailService: EmailService,\\n  ) {}\\n \\n  @Post('signin')\\n  async signin(\\n    @Body(new ZodValidationPipe(signinSchema)) body: SigninDto,\\n    @Session() session: SessionData,\\n  ): Promise<ResponseType<typeof this.authService.signin, AuthMessage>> {\\n    const data = await this.authService.signin(body)\\n    session.user = data as never\\n \\n    return {\\n      data,\\n      message: 'AUTH_SIGNIN_SUCCESS',\\n      state: 'success',\\n    }\\n  }\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { Body, Controller, Post, Session, UseFilters } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { ZodValidationPipe } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/zod'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { signinSchema, \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" SigninDto } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.dto'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthService } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.service'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { ErrorExceptionFilter } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.filters'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthMessage } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.types'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { ResponseType } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '~/common/types/api.types'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" SessionData\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { \"}),e(r.span,{style:{color:\"#E36209\"},children:\"user\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"?:\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" unknown\"}),e(r.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"  // placeholder to show realistic dependency wiring\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"@\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Controller\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'auth'\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"@\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"UseFilters\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(ErrorExceptionFilter)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" AuthController\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  constructor\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    private\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" readonly\"}),e(r.span,{style:{color:\"#E36209\"},children:\" authService\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" AuthService\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    private\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" readonly\"}),e(r.span,{style:{color:\"#E36209\"},children:\" emailService\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  ) {}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  @\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Post\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'signin'\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  async\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" signin\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    @\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Body\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"new\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" ZodValidationPipe\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(signinSchema)) \"}),e(r.span,{style:{color:\"#E36209\"},children:\"body\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" SigninDto\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    @\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Session\"}),e(r.span,{style:{color:\"#24292E\"},children:\"() \"}),e(r.span,{style:{color:\"#E36209\"},children:\"session\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" SessionData\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"  )\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" Promise\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"ResponseType\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"typeof\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" this\"}),e(r.span,{style:{color:\"#24292E\"},children:\".authService.signin, \"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"AuthMessage\"}),e(r.span,{style:{color:\"#24292E\"},children:\">> {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" data\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" await\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" this\"}),e(r.span,{style:{color:\"#24292E\"},children:\".authService.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"signin\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(body)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    session.user \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" data \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" never\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      data,\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"      message: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'AUTH_SIGNIN_SUCCESS'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"      state: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'success'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"src/modules/auth/auth.module.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { Module } from '@nestjs/common'\\nimport { AuthController } from './auth.controller'\\nimport { AuthService } from './auth.service'\\n \\nclass EmailService {}\\n \\n@Module({\\n  controllers: [AuthController],\\n  providers: [AuthService, EmailService],\\n})\\nexport class AuthModule {}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" Module \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthController \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.controller'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" AuthService \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" './auth.service'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {}\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@Module\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"(\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#FAB387\"},children:\"  controllers\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" [\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"AuthController\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"]\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#FAB387\"},children:\"  providers\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" [\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"AuthService\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#FAB387\"},children:\"]\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" class\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthModule\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {}\"})]})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"src/modules/auth/auth.module.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { Module } from '@nestjs/common'\\nimport { AuthController } from './auth.controller'\\nimport { AuthService } from './auth.service'\\n \\nclass EmailService {}\\n \\n@Module({\\n  controllers: [AuthController],\\n  providers: [AuthService, EmailService],\\n})\\nexport class AuthModule {}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { Module } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@nestjs/common'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthController } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.controller'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { AuthService } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" './auth.service'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" EmailService\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {}\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"@\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"Module\"}),e(r.span,{style:{color:\"#24292E\"},children:\"({\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  controllers: [AuthController],\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  providers: [AuthService, EmailService],\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"})\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" class\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" AuthModule\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {}\"})]})]})})]}),\"\\n\",n(r.h2,{id:\"client-side-duck-query\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#client-side-duck-query\",children:e(r.span,{className:\"icon icon-link\"})}),\"Client-side (Duck Query)\"]}),\"\\n\",n(r.p,{children:[\"You can see the full query docs \",e(r.a,{href:\"/docs/duck-query\",children:\"here\"}),\".\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"dark\",children:\"client/auth.query.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import { toast } from 'sonner'\\nimport { createDuckQueryClient } from '@gentleduck/query'\\nimport type { ApiRoutes, DuckGenI18nMessages, DuckgenScopedI18nByGroup } from '@gentleduck/gen/nestjs'\\n \\nconst D = createDuckQueryClient<ApiRoutes>()\\n \\nexport async function signinWithDuck(lang: 'ar' | 'en') {\\n  const { data } = await D.post(\\n    '/api/auth/signin',\\n    {\\n      body: {\\n        password: '123456',\\n        username: 'duck',\\n      },\\n    },\\n    { withCredentials: true },\\n  )\\n \\n  if (data.state === 'error') {\\n    toast.error(i18n[lang].server.AuthMessages[data.message])\\n    return null\\n  }\\n \\n  return data.data\\n}\\n \\ntype I18n = DuckgenScopedI18nByGroup<'ar' | 'en', DuckGenI18nMessages>\\n \\nconst i18n: I18n = {\\n  ar: {\\n    server: {\\n      AuthMessages: {\\n        AUTH_SIGNIN_SUCCESS: '   ',\\n        AUTH_USERNAME_INVALID: '   ',\\n        AUTH_PASSWORD_INVALID: '   ',\\n        AUTH_SIGNIN_FAILED: '  ',\\n \\n        ZOD_EXPECTED_STRING: '    ',\\n        ZOD_TOO_LONG: '  ',\\n        ZOD_TOO_SHORT: '  ',\\n      },\\n    },\\n  },\\n  en: {\\n    server: {\\n      AuthMessages: {\\n        AUTH_SIGNIN_SUCCESS: 'Signed in successfully',\\n        AUTH_USERNAME_INVALID: 'Invalid username',\\n        AUTH_PASSWORD_INVALID: 'Invalid password',\\n        AUTH_SIGNIN_FAILED: 'Signin failed',\\n \\n        ZOD_EXPECTED_STRING: 'Expected a string',\\n        ZOD_TOO_LONG: 'Too long',\\n        ZOD_TOO_SHORT: 'Too short',\\n      },\\n    },\\n  },\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" toast \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'sonner'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" createDuckQueryClient \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" ApiRoutes\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" DuckGenI18nMessages\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" DuckgenScopedI18nByGroup \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" D \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" createDuckQueryClient\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"ApiRoutes\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"()\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" async\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" function\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\" signinWithDuck\"}),e(r.span,{style:{color:\"#9399B2\"},children:\"(\"}),e(r.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\"lang\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),e(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"ar\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" |\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),e(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"en\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\")\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  const\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" data \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" =\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" await\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" D\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"post\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#A6E3A1\"},children:\"    '/api/auth/signin'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    {\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      body\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        password\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '123456'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        username\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'duck'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"      },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    },\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#9399B2\"},children:\"    {\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" withCredentials\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#FAB387\"},children:\" true\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" },\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#CDD6F4\"},children:\"  )\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  if\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" (data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"state \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"===\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'error'\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\") \"}),e(r.span,{style:{color:\"#9399B2\"},children:\"{\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"    toast\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"error\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"(i18n[lang]\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"server\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"AuthMessages[data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"message])\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"    return\"}),e(r.span,{style:{color:\"#CBA6F7\"},children:\" null\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"  return\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" data\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\".\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\"data\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" I18n \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" DuckgenScopedI18nByGroup\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\"<\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),e(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"ar\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\" |\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '\"}),e(r.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"en\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" DuckGenI18nMessages\"}),e(r.span,{style:{color:\"#89DCEB\"},children:\">\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CBA6F7\"},children:\"const\"}),e(r.span,{style:{color:\"#CDD6F4\"},children:\" i18n\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" I18n \"}),e(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  ar\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"    server\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      AuthMessages\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_SIGNIN_SUCCESS\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '   '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_USERNAME_INVALID\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '   '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_PASSWORD_INVALID\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '   '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_SIGNIN_FAILED\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '  '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        ZOD_EXPECTED_STRING\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '    '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        ZOD_TOO_LONG\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '  '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        ZOD_TOO_SHORT\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" '  '\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"      },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  },\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"  en\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"    server\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"      AuthMessages\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_SIGNIN_SUCCESS\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Signed in successfully'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_USERNAME_INVALID\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Invalid username'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_PASSWORD_INVALID\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Invalid password'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        AUTH_SIGNIN_FAILED\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Signin failed'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        ZOD_EXPECTED_STRING\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Expected a string'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        ZOD_TOO_LONG\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Too long'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#CDD6F4\"},children:\"        ZOD_TOO_SHORT\"}),e(r.span,{style:{color:\"#94E2D5\"},children:\":\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" 'Too short'\"}),e(r.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"      },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"    },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"  },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"light\",children:\"client/auth.query.ts\"}),e(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import { toast } from 'sonner'\\nimport { createDuckQueryClient } from '@gentleduck/query'\\nimport type { ApiRoutes, DuckGenI18nMessages, DuckgenScopedI18nByGroup } from '@gentleduck/gen/nestjs'\\n \\nconst D = createDuckQueryClient<ApiRoutes>()\\n \\nexport async function signinWithDuck(lang: 'ar' | 'en') {\\n  const { data } = await D.post(\\n    '/api/auth/signin',\\n    {\\n      body: {\\n        password: '123456',\\n        username: 'duck',\\n      },\\n    },\\n    { withCredentials: true },\\n  )\\n \\n  if (data.state === 'error') {\\n    toast.error(i18n[lang].server.AuthMessages[data.message])\\n    return null\\n  }\\n \\n  return data.data\\n}\\n \\ntype I18n = DuckgenScopedI18nByGroup<'ar' | 'en', DuckGenI18nMessages>\\n \\nconst i18n: I18n = {\\n  ar: {\\n    server: {\\n      AuthMessages: {\\n        AUTH_SIGNIN_SUCCESS: '   ',\\n        AUTH_USERNAME_INVALID: '   ',\\n        AUTH_PASSWORD_INVALID: '   ',\\n        AUTH_SIGNIN_FAILED: '  ',\\n \\n        ZOD_EXPECTED_STRING: '    ',\\n        ZOD_TOO_LONG: '  ',\\n        ZOD_TOO_SHORT: '  ',\\n      },\\n    },\\n  },\\n  en: {\\n    server: {\\n      AuthMessages: {\\n        AUTH_SIGNIN_SUCCESS: 'Signed in successfully',\\n        AUTH_USERNAME_INVALID: 'Invalid username',\\n        AUTH_PASSWORD_INVALID: 'Invalid password',\\n        AUTH_SIGNIN_FAILED: 'Signin failed',\\n \\n        ZOD_EXPECTED_STRING: 'Expected a string',\\n        ZOD_TOO_LONG: 'Too long',\\n        ZOD_TOO_SHORT: 'Too short',\\n      },\\n    },\\n  },\\n}\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { toast } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'sonner'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { createDuckQueryClient } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/query'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { ApiRoutes, DuckGenI18nMessages, DuckgenScopedI18nByGroup } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" D\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" createDuckQueryClient\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"ApiRoutes\"}),e(r.span,{style:{color:\"#24292E\"},children:\">()\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"export\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" async\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" function\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" signinWithDuck\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"lang\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'ar'\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" |\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'en'\"}),e(r.span,{style:{color:\"#24292E\"},children:\") {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  const\"}),e(r.span,{style:{color:\"#24292E\"},children:\" { \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"data\"}),e(r.span,{style:{color:\"#24292E\"},children:\" } \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" await\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" D\"}),e(r.span,{style:{color:\"#24292E\"},children:\".\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"post\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"    '/api/auth/signin'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    {\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      body: {\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        password: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'123456'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        username: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'duck'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    },\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    { withCredentials: \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"true\"}),e(r.span,{style:{color:\"#24292E\"},children:\" },\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  )\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  if\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (data.state \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"===\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'error'\"}),e(r.span,{style:{color:\"#24292E\"},children:\") {\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    toast.\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"error\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(i18n[lang].server.AuthMessages[data.message])\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" null\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"  return\"}),e(r.span,{style:{color:\"#24292E\"},children:\" data.data\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"type\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" I18n\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" DuckgenScopedI18nByGroup\"}),e(r.span,{style:{color:\"#24292E\"},children:\"<\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ar'\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" |\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'en'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#6F42C1\"},children:\"DuckGenI18nMessages\"}),e(r.span,{style:{color:\"#24292E\"},children:\">\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"const\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" i18n\"}),e(r.span,{style:{color:\"#D73A49\"},children:\":\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" I18n\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" =\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  ar: {\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    server: {\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      AuthMessages: {\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_SIGNIN_SUCCESS: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'   '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_USERNAME_INVALID: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'   '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_PASSWORD_INVALID: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'   '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_SIGNIN_FAILED: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'  '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        ZOD_EXPECTED_STRING: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'    '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        ZOD_TOO_LONG: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'  '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        ZOD_TOO_SHORT: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'  '\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  en: {\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    server: {\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      AuthMessages: {\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_SIGNIN_SUCCESS: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Signed in successfully'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_USERNAME_INVALID: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Invalid username'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_PASSWORD_INVALID: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Invalid password'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        AUTH_SIGNIN_FAILED: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Signin failed'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:\" \"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        ZOD_EXPECTED_STRING: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Expected a string'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        ZOD_TOO_LONG: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Too long'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        ZOD_TOO_SHORT: \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Too short'\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"      },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"  },\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",n(r.h2,{id:\"run-the-generator\",children:[e(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#run-the-generator\",children:e(r.span,{className:\"icon icon-link\"})}),\"Run the generator\"]}),\"\\n\",n(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm exec duck-gen\",children:e(r.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" exec\"}),e(r.span,{style:{color:\"#A6E3A1\"},children:\" duck-gen\"})]})})}),e(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm exec duck-gen\",children:e(r.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),e(r.span,{style:{color:\"#032F62\"},children:\" exec\"}),e(r.span,{style:{color:\"#032F62\"},children:\" duck-gen\"})]})})})]}),\"\\n\",n(r.p,{children:[\"This will generate \",e(r.code,{__rawString__:\"ApiRoutes\",children:\"ApiRoutes\"}),\", \",e(r.code,{__rawString__:\"DuckGenI18nMessages\",children:\"DuckGenI18nMessages\"}),\", and the scoped i18n types used above.\"]})]})}return{default:function(l={}){const{wrapper:n}=l.components||{};return n?e(n,{...l,children:e(_createMdxContent,{...l})}):_createMdxContent(l)}};",
    "component": false,
    "content": "<p>This is a complete, minimal example showing Duck Gen with NestJS and Duck Query. It links the backend contract to a\ntype-safe client, includes a DTO file, a constants file for messages, and a controller file, plus the minimum wiring to\nmake it realistic.</p>\n<h2>Client to server flow</h2>\n<ol>\n<li>Define messages and DTOs in the backend.</li>\n<li>Annotate message tags for Duck Gen scanning.</li>\n<li>Run Duck Gen to generate <code>ApiRoutes</code> and i18n message types.</li>\n<li>Use Duck Query on the client to call routes with full type safety.</li>\n<li>Use generated i18n types to keep server messages and client translations in sync.</li>\n</ol>\n<h2>File layout</h2>\n<pre><code class=\"language-text\">.\n duck-gen.toml\n backend\n    src\n       common\n          constants.ts\n          types\n              api.types.ts\n       modules\n           auth\n               auth.constants.ts\n               auth.controller.ts\n               auth.dto.ts\n               auth.filters.ts\n               auth.module.ts\n               auth.service.ts\n               auth.types.ts\n               index.ts\n client\n     auth.query.ts\n</code></pre>\n<h2>duck-gen.toml</h2>\n<pre><code class=\"language-toml\" metastring=\"title=&#x22;duck-gen.toml&#x22;\">framework = \"nestjs\"\n\n[extensions.shared]\nsourceGlobs = [\"src/**/*.ts\"]\ntsconfigPath = \"./tsconfig.json\"\nincludeNodeModules = false\n\n[extensions.apiRoutes]\nenabled = true\nglobalPrefix = \"/api\"\nnormalizeAnyToUnknown = true\n\n[extensions.messages]\nenabled = true\n</code></pre>\n<h2>Link the client to the backend</h2>\n<p>Duck Gen reads your NestJS controllers + DTOs (via <code>duck-gen.toml</code>) and generates <code>ApiRoutes</code>. Duck Query then uses\n<code>ApiRoutes</code> to make calls like <code>/api/auth/signin</code> fully type-safe. Keep the controller paths and <code>globalPrefix</code> aligned\nwith the client routes so the contract stays accurate.</p>\n<h2>Server-side (NestJS)</h2>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/common/constants.ts&#x22;\">export const ZodMessages = {\n  ZOD_EXPECTED_STRING: 'ZOD_EXPECTED_STRING',\n  ZOD_TOO_LONG: 'ZOD_TOO_LONG',\n  ZOD_TOO_SHORT: 'ZOD_TOO_SHORT',\n} as const\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/common/types/api.types.ts&#x22;\">export type Response&#x3C;M extends string, T> =\n  | {\n      state: 'success'\n      message: M\n      data: T\n    }\n  | {\n      state: 'error'\n      message: M\n      data: null\n    }\n\nexport type ResponseType&#x3C;TFn extends (...args: any[]) => any, M extends string> =\n  Awaited&#x3C;ReturnType&#x3C;TFn>> extends infer TData ? Response&#x3C;M, TData> : never\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.constants.ts&#x22;\">import { ZodMessages } from '~/common/constants'\n\n/**\n * @duckgen messages\n */\nexport const AuthMessages = [\n  'AUTH_SIGNIN_SUCCESS',\n  'AUTH_USERNAME_INVALID',\n  'AUTH_PASSWORD_INVALID',\n  'AUTH_SIGNIN_FAILED',\n\n  // include shared zod messages\n  ...Object.values(ZodMessages),\n] as const\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.types.ts&#x22;\">import { AuthMessages } from './auth.constants'\n\nexport type AuthMessage = (typeof AuthMessages)[number]\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.dto.ts&#x22;\">import { z } from 'zod'\nimport type { AuthMessage } from './auth.types'\n\nconst errorMessage = &#x3C;T extends AuthMessage>(message: T) => ({ message })\n\nconst string = z\n  .string({ ...errorMessage('ZOD_EXPECTED_STRING') })\n  .max(30, { ...errorMessage('ZOD_TOO_LONG') })\n\nexport const signinSchema = z.object({\n  password: string.min(8, { ...errorMessage('ZOD_TOO_SHORT') }),\n  username: string.min(3, { ...errorMessage('ZOD_TOO_SHORT') }),\n})\n\nexport type SigninDto = z.infer&#x3C;typeof signinSchema>\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.utils.ts&#x22;\">import { HttpException, HttpStatus } from '@nestjs/common'\n\nexport function throwError&#x3C;M extends string>(message: M, statusCode: number): never {\n  throw new HttpException({ message }, statusCode as HttpStatus)\n}\n\nexport class PasswordHasher {\n  static async comparePassword(_plain: string, _hash: string) {\n    // Replace with your real hashing, bcrypt/argon2, etc.\n    return _plain === '123456' &#x26;&#x26; _hash === 'hashed'\n  }\n}\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.filters.ts&#x22;\">import type { ArgumentsHost, ExceptionFilter } from '@nestjs/common'\nimport { Catch, HttpException } from '@nestjs/common'\n\n@Catch(HttpException)\nexport class ErrorExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp()\n    const res = ctx.getResponse()\n\n    const status = exception.getStatus()\n    const body = exception.getResponse() as any\n\n    // Normalize to a simple shape for the client\n    res.status(status).json({\n      state: 'error',\n      message: body?.message ?? 'UNKNOWN_ERROR',\n      data: null,\n    })\n  }\n}\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.service.ts&#x22;\">import { Injectable } from '@nestjs/common'\nimport type { AuthMessage } from './auth.types'\nimport type { SigninDto } from './auth.dto'\nimport { PasswordHasher, throwError } from './auth.utils'\n\ntype User = { id: string; username: string }\n\n@Injectable()\nexport class AuthService {\n  // Replace with your DB implementation\n  private fakeUser = { id: '1', username: 'duck', password_hash: 'hashed' }\n\n  async signin(data: SigninDto): Promise&#x3C;User> {\n    try {\n      const user = data.username === this.fakeUser.username ? this.fakeUser : null\n\n      if (!user) {\n        throwError&#x3C;AuthMessage>('AUTH_USERNAME_INVALID', 401)\n      }\n\n      const passwordMatch = await PasswordHasher.comparePassword(data.password, user.password_hash)\n      if (!passwordMatch) {\n        throwError&#x3C;AuthMessage>('AUTH_PASSWORD_INVALID', 401)\n      }\n\n      return { id: user.id, username: user.username }\n    } catch {\n      // if it was already a typed error filter will handle it\n      throwError&#x3C;AuthMessage>('AUTH_SIGNIN_FAILED', 500)\n    }\n  }\n}\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.controller.ts&#x22;\">import { Body, Controller, Post, Session, UseFilters } from '@nestjs/common'\nimport { ZodValidationPipe } from '@nestjs/zod'\nimport { signinSchema, type SigninDto } from './auth.dto'\nimport { AuthService } from './auth.service'\nimport { ErrorExceptionFilter } from './auth.filters'\nimport type { AuthMessage } from './auth.types'\nimport type { ResponseType } from '~/common/types/api.types'\n\ntype SessionData = { user?: unknown }\n\nclass EmailService {\n  // placeholder to show realistic dependency wiring\n}\n\n@Controller('auth')\n@UseFilters(ErrorExceptionFilter)\nexport class AuthController {\n  constructor(\n    private readonly authService: AuthService,\n    private readonly emailService: EmailService,\n  ) {}\n\n  @Post('signin')\n  async signin(\n    @Body(new ZodValidationPipe(signinSchema)) body: SigninDto,\n    @Session() session: SessionData,\n  ): Promise&#x3C;ResponseType&#x3C;typeof this.authService.signin, AuthMessage>> {\n    const data = await this.authService.signin(body)\n    session.user = data as never\n\n    return {\n      data,\n      message: 'AUTH_SIGNIN_SUCCESS',\n      state: 'success',\n    }\n  }\n}\n</code></pre>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;src/modules/auth/auth.module.ts&#x22;\">import { Module } from '@nestjs/common'\nimport { AuthController } from './auth.controller'\nimport { AuthService } from './auth.service'\n\nclass EmailService {}\n\n@Module({\n  controllers: [AuthController],\n  providers: [AuthService, EmailService],\n})\nexport class AuthModule {}\n</code></pre>\n<h2>Client-side (Duck Query)</h2>\n<p>You can see the full query docs <a href=\"/docs/duck-query\">here</a>.</p>\n<pre><code class=\"language-ts\" metastring=\"title=&#x22;client/auth.query.ts&#x22;\">import { toast } from 'sonner'\nimport { createDuckQueryClient } from '@gentleduck/query'\nimport type { ApiRoutes, DuckGenI18nMessages, DuckgenScopedI18nByGroup } from '@gentleduck/gen/nestjs'\n\nconst D = createDuckQueryClient&#x3C;ApiRoutes>()\n\nexport async function signinWithDuck(lang: 'ar' | 'en') {\n  const { data } = await D.post(\n    '/api/auth/signin',\n    {\n      body: {\n        password: '123456',\n        username: 'duck',\n      },\n    },\n    { withCredentials: true },\n  )\n\n  if (data.state === 'error') {\n    toast.error(i18n[lang].server.AuthMessages[data.message])\n    return null\n  }\n\n  return data.data\n}\n\ntype I18n = DuckgenScopedI18nByGroup&#x3C;'ar' | 'en', DuckGenI18nMessages>\n\nconst i18n: I18n = {\n  ar: {\n    server: {\n      AuthMessages: {\n        AUTH_SIGNIN_SUCCESS: '   ',\n        AUTH_USERNAME_INVALID: '   ',\n        AUTH_PASSWORD_INVALID: '   ',\n        AUTH_SIGNIN_FAILED: '  ',\n\n        ZOD_EXPECTED_STRING: '    ',\n        ZOD_TOO_LONG: '  ',\n        ZOD_TOO_SHORT: '  ',\n      },\n    },\n  },\n  en: {\n    server: {\n      AuthMessages: {\n        AUTH_SIGNIN_SUCCESS: 'Signed in successfully',\n        AUTH_USERNAME_INVALID: 'Invalid username',\n        AUTH_PASSWORD_INVALID: 'Invalid password',\n        AUTH_SIGNIN_FAILED: 'Signin failed',\n\n        ZOD_EXPECTED_STRING: 'Expected a string',\n        ZOD_TOO_LONG: 'Too long',\n        ZOD_TOO_SHORT: 'Too short',\n      },\n    },\n  },\n}\n</code></pre>\n<h2>Run the generator</h2>\n<pre><code class=\"language-bash\">pnpm exec duck-gen\n</code></pre>\n<p>This will generate <code>ApiRoutes</code>, <code>DuckGenI18nMessages</code>, and the scoped i18n types used above.</p>",
    "description": "Full Duck Gen + Duck Query + NestJS example with DTOs, constants, and a controller.",
    "excerpt": "This is a complete, minimal example showing Duck Gen with NestJS and Duck Query. It links the backend contract to a\ntype-safe client, includes a DTO file, a constants file for messages, and a controller file, plus the minimum wiring to\nmake it realistic.\nClien",
    "metadata": {
      "readingTime": 3,
      "wordCount": 921
    },
    "title": "templates",
    "toc": [
      {
        "title": "Client to server flow",
        "url": "#client-to-server-flow",
        "items": []
      },
      {
        "title": "File layout",
        "url": "#file-layout",
        "items": []
      },
      {
        "title": "duck-gen.toml",
        "url": "#duck-gentoml",
        "items": []
      },
      {
        "title": "Link the client to the backend",
        "url": "#link-the-client-to-the-backend",
        "items": []
      },
      {
        "title": "Server-side (NestJS)",
        "url": "#server-side-nestjs",
        "items": []
      },
      {
        "title": "Client-side (Duck Query)",
        "url": "#client-side-duck-query",
        "items": []
      },
      {
        "title": "Run the generator",
        "url": "#run-the-generator",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "docs",
    "permalink": "templates",
    "slug": "docs/templates",
    "sourceFileDir": "content/docs",
    "sourceFileName": "templates.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:e,jsx:n,jsxs:i}=arguments[0];function _createMdxContent(r){const t={a:\"a\",br:\"br\",em:\"em\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components},{Image:l}=t;return l||function(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}(\"Image\",!0),i(e,{children:[i(t.h2,{id:\"about-me\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#about-me\",children:n(t.span,{className:\"icon icon-link\"})}),\"About Me\"]}),\"\\n\",n(\"a\",{href:\"https://github.com/wildduck2\",target:\"_blank\",rel:\"noreferrer\",children:n(l,{src:\"https://github.com/wildduck2.png\",alt:\"wildduck2\",width:\"300\",height:\"300\",className:\"rounded-xl object-cover mt-4 border border-border\"})}),\"\\n\",i(t.p,{children:[\"I'm a \",n(t.strong,{children:\"Senior Software Engineer\"}),\" specializing in building scalable, high-performance systems across the full stack. Currently at AIv, I'm engineering conversational operating systems where natural language serves as the interface for real-world actions. I work with \",n(t.strong,{children:\"TypeScript\"}),\", \",n(t.strong,{children:\"Rust\"}),\", \",n(t.strong,{children:\"Elixir\"}),\", \",n(t.strong,{children:\"Node.js\"}),\", and modern web technologies to create robust, production-grade applications.\"]}),\"\\n\",i(t.p,{children:[\"My expertise spans from \",n(t.strong,{children:\"zero-dependency libraries\"}),\" and \",n(t.strong,{children:\"Rust-powered tooling\"}),\" to \",n(t.strong,{children:\"AI-driven architectures\"}),\" and \",n(t.strong,{children:\"distributed systems\"}),\". I'm passionate about creating developer tools that improve productivity, reduce complexity, and push the boundaries of what's possible with modern web technologies.\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h2,{id:\"featured-projects\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#featured-projects\",children:n(t.span,{className:\"icon icon-link\"})}),\"Featured Projects\"]}),\"\\n\",i(t.h3,{id:\"gentleduckui\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#gentleduckui\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://github.com/gentleeduck/duck-ui\",children:\"@gentleduck/ui\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"React + TypeScript Component Library\"})}),\"\\n\",n(t.p,{children:\"A dependency-free, themeable design system built from scratchno Radix, no external UI frameworks. duck-ui delivers:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",i(t.li,{children:[n(t.strong,{children:\"2 performance improvement\"}),\" in bundle size and runtime vs. common alternatives\"]}),\"\\n\",n(t.li,{children:\"Compact, accessible components with modern UX patterns\"}),\"\\n\",n(t.li,{children:\"Composable primitives with comprehensive documentation\"}),\"\\n\",n(t.li,{children:\"Production-ready UI that enforces consistency across products\"}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" React, TypeScript, TailwindCSS\",n(t.br,{}),\"\\n\",n(t.strong,{children:\"Impact:\"}),\" Accelerates developer onboarding and delivers enterprise-grade UI systems\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"gentleduckttlog\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#gentleduckttlog\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://github.com/gentleeduck/duck-ttlog\",children:\"@gentleduck/ttlog\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"Production-Grade Rust Logging Engine\"})}),\"\\n\",n(t.p,{children:\"A high-performance logging system for distributed applications featuring:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Lock-free ring buffers\"}),\" for non-blocking ingestion\"]}),\"\\n\",i(t.li,{children:[n(t.strong,{children:\"CBOR + LZ4\"}),\" compressed snapshots with atomic file writes\"]}),\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Crash-capture\"}),\" and post-mortem analysis without runtime impact\"]}),\"\\n\",i(t.li,{children:[\"Benchmarked at \",n(t.strong,{children:\"~70M events/sec\"}),\" peak and \",n(t.strong,{children:\"~16.7M buffer ops/sec\"})]}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" Rust\",n(t.br,{}),\"\\n\",n(t.strong,{children:\"Use Case:\"}),\" Extreme throughput scenarios requiring reliable diagnostics at scale\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"getnleducktemplate\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#getnleducktemplate\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://github.com/gentleeduck/duck-template\",children:\"@getnleduck/template\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"Fast Rust-Powered Scaffolding CLI\"})}),\"\\n\",n(t.p,{children:\"A project scaffolding tool driven by structured JSON configs:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",n(t.li,{children:\"Variant support with remote/local config sources\"}),\"\\n\",n(t.li,{children:\"Dynamic flag injection and modular commands\"}),\"\\n\",n(t.li,{children:\"Reproducible, environment-aware project layouts\"}),\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Dramatically reduces\"}),\" developer setup time\"]}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" Rust\",n(t.br,{}),\"\\n\",n(t.strong,{children:\"Purpose:\"}),\" Standardize bootstrapping across teams\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"gentleduckttest\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#gentleduckttest\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://www.npmjs.com/package/@gentleduck/ttest\",children:\"@gentleduck/ttest\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"Zero-Runtime TypeScript Type Testing\"})}),\"\\n\",n(t.p,{children:\"A compile-time type-level testing framework for TypeScript:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",n(t.li,{children:\"Validates assignability, equality, and inference without emitted JS\"}),\"\\n\",n(t.li,{children:\"Clear, IDE-friendly failure messages\"}),\"\\n\",n(t.li,{children:\"Includes advanced type-only utilities (SQL & JSON inference/parsers)\"}),\"\\n\",n(t.li,{children:\"Perfect for framework authors and type-heavy codebases\"}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" TypeScript\",n(t.br,{}),\"\\n\",n(t.strong,{children:\"Highlight:\"}),\" Closes the feedback loop between complex types and application logic\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"gentleduckvariants\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#gentleduckvariants\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://www.npmjs.com/package/@gentleduck/variants\",children:\"@gentleduck/variants\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"Zero-Dependency Class Composition Utility\"})}),\"\\n\",n(t.p,{children:\"A TypeScript-first utility for declarative class-name composition:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",i(t.li,{children:[n(t.strong,{children:\"~7 faster\"}),\" than reference implementations\"]}),\"\\n\",n(t.li,{children:\"Fully type-safe with IDE autocompletion\"}),\"\\n\",n(t.li,{children:\"Supports default & compound variants, nested arrays, conditionals\"}),\"\\n\",n(t.li,{children:\"Tiny bundle footprint\"}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" TypeScript\",n(t.br,{}),\"\\n\",n(t.strong,{children:\"Inspired by:\"}),\" Tailwind/CVA\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"gentleduckvim\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#gentleduckvim\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://www.npmjs.com/package/@gentleduck/vim\",children:\"@gentleduck/vim\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"Framework-Agnostic Vim-Style Navigation\"})}),\"\\n\",n(t.p,{children:\"Transform any browser app into a modal, keyboard-first experience:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",n(t.li,{children:\"Declarative keymaps with leader-key and chord support\"}),\"\\n\",n(t.li,{children:\"Modal editing (normal/insert/visual) with rich motion primitives\"}),\"\\n\",n(t.li,{children:\"Framework adapters for React/Angular/Svelte/vanilla\"}),\"\\n\",n(t.li,{children:\"Accessibility-friendly fallbacks\"}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" TypeScript\",n(t.br,{}),\"\\n\",n(t.strong,{children:\"Purpose:\"}),\" Add muscle-memory navigation and power-user workflows to any UI\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"-duck-lox-rs--still-in-development\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#-duck-lox-rs--still-in-development\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://github.com/wildduck2/-duck-lox-rs-\",children:\"-duck-lox-rs-\"}),\" (STILL IN DEVELOPMENT)\"]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"Lox Language Interpreter in Rust\"})}),\"\\n\",n(t.p,{children:\"A tree-walk interpreter implementation of the Lox programming language:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",n(t.li,{children:'Built following \"Crafting Interpreters\" principles'}),\"\\n\",n(t.li,{children:\"Demonstrates Rust's capabilities in language implementation\"}),\"\\n\",n(t.li,{children:\"Clean, educational codebase\"}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" Rust\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h3,{id:\"ahmedayobemail-toolkit\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#ahmedayobemail-toolkit\",children:n(t.span,{className:\"icon icon-link\"})}),n(t.a,{href:\"https://github.com/wildduck2/email-toolkit\",children:\"@ahmedayob/email-toolkit\"})]}),\"\\n\",n(t.p,{children:n(t.strong,{children:\"MIME Message Builder Library\"})}),\"\\n\",n(t.p,{children:\"A TypeScript library for building and manipulating MIME messages:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",n(t.li,{children:\"Easy-to-use API for creating and encoding MIME content\"}),\"\\n\",n(t.li,{children:\"Ideal for email and internet-based communication systems\"}),\"\\n\",n(t.li,{children:\"Type-safe implementation\"}),\"\\n\"]}),\"\\n\",i(t.p,{children:[n(t.strong,{children:\"Tech Stack:\"}),\" TypeScript\"]}),\"\\n\",n(t.hr,{}),\"\\n\",i(t.h2,{id:\"philosophy\",children:[n(t.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#philosophy\",children:n(t.span,{className:\"icon icon-link\"})}),\"Philosophy\"]}),\"\\n\",i(t.p,{children:[\"I believe in building tools that \",n(t.strong,{children:\"reduce complexity\"}),\" while \",n(t.strong,{children:\"expanding capability\"}),\". Whether it's a zero-dependency component library, a crash-proof logging system, or an AI-powered operating system, my goal is to create software that empowers developers and users alike.\"]}),\"\\n\",n(t.p,{children:\"My work focuses on:\"}),\"\\n\",i(t.ul,{children:[\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Performance:\"}),\" Every millisecond matters in production\"]}),\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Developer Experience:\"}),\" Great tools make great products possible\"]}),\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Type Safety:\"}),\" Catching errors at compile time, not runtime\"]}),\"\\n\",i(t.li,{children:[n(t.strong,{children:\"Open Source:\"}),\" Sharing knowledge and building in public\"]}),\"\\n\"]}),\"\\n\",n(t.hr,{}),\"\\n\",n(t.p,{children:n(t.em,{children:'\"Between the kernel and eBPF\"  Building the future of developer tools and distributed systems.'})})]})}return{default:function(e={}){const{wrapper:i}=e.components||{};return i?n(i,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "component": false,
    "content": "<h2>About Me</h2>\n<a href=\"https://github.com/wildduck2\" target=\"_blank\" rel=\"noreferrer\">\n  <img src=\"https://github.com/wildduck2.png\" alt=\"wildduck2\" width=\"300\" height=\"300\" class=\"rounded-xl object-cover mt-4 border border-border\">\n</a>\n<p>I'm a <strong>Senior Software Engineer</strong> specializing in building scalable, high-performance systems across the full stack. Currently at AIv, I'm engineering conversational operating systems where natural language serves as the interface for real-world actions. I work with <strong>TypeScript</strong>, <strong>Rust</strong>, <strong>Elixir</strong>, <strong>Node.js</strong>, and modern web technologies to create robust, production-grade applications.</p>\n<p>My expertise spans from <strong>zero-dependency libraries</strong> and <strong>Rust-powered tooling</strong> to <strong>AI-driven architectures</strong> and <strong>distributed systems</strong>. I'm passionate about creating developer tools that improve productivity, reduce complexity, and push the boundaries of what's possible with modern web technologies.</p>\n<hr>\n<h2>Featured Projects</h2>\n<h3><a href=\"https://github.com/gentleeduck/duck-ui\">@gentleduck/ui</a></h3>\n<p><strong>React + TypeScript Component Library</strong></p>\n<p>A dependency-free, themeable design system built from scratchno Radix, no external UI frameworks. duck-ui delivers:</p>\n<ul>\n<li><strong>2 performance improvement</strong> in bundle size and runtime vs. common alternatives</li>\n<li>Compact, accessible components with modern UX patterns</li>\n<li>Composable primitives with comprehensive documentation</li>\n<li>Production-ready UI that enforces consistency across products</li>\n</ul>\n<p><strong>Tech Stack:</strong> React, TypeScript, TailwindCSS<br>\n<strong>Impact:</strong> Accelerates developer onboarding and delivers enterprise-grade UI systems</p>\n<hr>\n<h3><a href=\"https://github.com/gentleeduck/duck-ttlog\">@gentleduck/ttlog</a></h3>\n<p><strong>Production-Grade Rust Logging Engine</strong></p>\n<p>A high-performance logging system for distributed applications featuring:</p>\n<ul>\n<li><strong>Lock-free ring buffers</strong> for non-blocking ingestion</li>\n<li><strong>CBOR + LZ4</strong> compressed snapshots with atomic file writes</li>\n<li><strong>Crash-capture</strong> and post-mortem analysis without runtime impact</li>\n<li>Benchmarked at <strong>~70M events/sec</strong> peak and <strong>~16.7M buffer ops/sec</strong></li>\n</ul>\n<p><strong>Tech Stack:</strong> Rust<br>\n<strong>Use Case:</strong> Extreme throughput scenarios requiring reliable diagnostics at scale</p>\n<hr>\n<h3><a href=\"https://github.com/gentleeduck/duck-template\">@getnleduck/template</a></h3>\n<p><strong>Fast Rust-Powered Scaffolding CLI</strong></p>\n<p>A project scaffolding tool driven by structured JSON configs:</p>\n<ul>\n<li>Variant support with remote/local config sources</li>\n<li>Dynamic flag injection and modular commands</li>\n<li>Reproducible, environment-aware project layouts</li>\n<li><strong>Dramatically reduces</strong> developer setup time</li>\n</ul>\n<p><strong>Tech Stack:</strong> Rust<br>\n<strong>Purpose:</strong> Standardize bootstrapping across teams</p>\n<hr>\n<h3><a href=\"https://www.npmjs.com/package/@gentleduck/ttest\">@gentleduck/ttest</a></h3>\n<p><strong>Zero-Runtime TypeScript Type Testing</strong></p>\n<p>A compile-time type-level testing framework for TypeScript:</p>\n<ul>\n<li>Validates assignability, equality, and inference without emitted JS</li>\n<li>Clear, IDE-friendly failure messages</li>\n<li>Includes advanced type-only utilities (SQL &#x26; JSON inference/parsers)</li>\n<li>Perfect for framework authors and type-heavy codebases</li>\n</ul>\n<p><strong>Tech Stack:</strong> TypeScript<br>\n<strong>Highlight:</strong> Closes the feedback loop between complex types and application logic</p>\n<hr>\n<h3><a href=\"https://www.npmjs.com/package/@gentleduck/variants\">@gentleduck/variants</a></h3>\n<p><strong>Zero-Dependency Class Composition Utility</strong></p>\n<p>A TypeScript-first utility for declarative class-name composition:</p>\n<ul>\n<li><strong>~7 faster</strong> than reference implementations</li>\n<li>Fully type-safe with IDE autocompletion</li>\n<li>Supports default &#x26; compound variants, nested arrays, conditionals</li>\n<li>Tiny bundle footprint</li>\n</ul>\n<p><strong>Tech Stack:</strong> TypeScript<br>\n<strong>Inspired by:</strong> Tailwind/CVA</p>\n<hr>\n<h3><a href=\"https://www.npmjs.com/package/@gentleduck/vim\">@gentleduck/vim</a></h3>\n<p><strong>Framework-Agnostic Vim-Style Navigation</strong></p>\n<p>Transform any browser app into a modal, keyboard-first experience:</p>\n<ul>\n<li>Declarative keymaps with leader-key and chord support</li>\n<li>Modal editing (normal/insert/visual) with rich motion primitives</li>\n<li>Framework adapters for React/Angular/Svelte/vanilla</li>\n<li>Accessibility-friendly fallbacks</li>\n</ul>\n<p><strong>Tech Stack:</strong> TypeScript<br>\n<strong>Purpose:</strong> Add muscle-memory navigation and power-user workflows to any UI</p>\n<hr>\n<h3><a href=\"https://github.com/wildduck2/-duck-lox-rs-\">-duck-lox-rs-</a> (STILL IN DEVELOPMENT)</h3>\n<p><strong>Lox Language Interpreter in Rust</strong></p>\n<p>A tree-walk interpreter implementation of the Lox programming language:</p>\n<ul>\n<li>Built following \"Crafting Interpreters\" principles</li>\n<li>Demonstrates Rust's capabilities in language implementation</li>\n<li>Clean, educational codebase</li>\n</ul>\n<p><strong>Tech Stack:</strong> Rust</p>\n<hr>\n<h3><a href=\"https://github.com/wildduck2/email-toolkit\">@ahmedayob/email-toolkit</a></h3>\n<p><strong>MIME Message Builder Library</strong></p>\n<p>A TypeScript library for building and manipulating MIME messages:</p>\n<ul>\n<li>Easy-to-use API for creating and encoding MIME content</li>\n<li>Ideal for email and internet-based communication systems</li>\n<li>Type-safe implementation</li>\n</ul>\n<p><strong>Tech Stack:</strong> TypeScript</p>\n<hr>\n<h2>Philosophy</h2>\n<p>I believe in building tools that <strong>reduce complexity</strong> while <strong>expanding capability</strong>. Whether it's a zero-dependency component library, a crash-proof logging system, or an AI-powered operating system, my goal is to create software that empowers developers and users alike.</p>\n<p>My work focuses on:</p>\n<ul>\n<li><strong>Performance:</strong> Every millisecond matters in production</li>\n<li><strong>Developer Experience:</strong> Great tools make great products possible</li>\n<li><strong>Type Safety:</strong> Catching errors at compile time, not runtime</li>\n<li><strong>Open Source:</strong> Sharing knowledge and building in public</li>\n</ul>\n<hr>\n<p><em>\"Between the kernel and eBPF\"  Building the future of developer tools and distributed systems.</em></p>",
    "description": "Get to know more about the person behind @gentleduck.",
    "excerpt": "About Me\n\n  \n\nI'm a Senior Software Engineer specializing in building scalable, high-performance systems across the full stack. Currently at AIv, I'm engineering conversational operating systems where natural language serves as the interface for real-world act",
    "metadata": {
      "readingTime": 2,
      "wordCount": 609
    },
    "title": "whoiam",
    "toc": [
      {
        "title": "About Me",
        "url": "#about-me",
        "items": []
      },
      {
        "title": "Featured Projects",
        "url": "#featured-projects",
        "items": [
          {
            "title": "@gentleduck/ui",
            "url": "#gentleduckui",
            "items": []
          },
          {
            "title": "@gentleduck/ttlog",
            "url": "#gentleduckttlog",
            "items": []
          },
          {
            "title": "@getnleduck/template",
            "url": "#getnleducktemplate",
            "items": []
          },
          {
            "title": "@gentleduck/ttest",
            "url": "#gentleduckttest",
            "items": []
          },
          {
            "title": "@gentleduck/variants",
            "url": "#gentleduckvariants",
            "items": []
          },
          {
            "title": "@gentleduck/vim",
            "url": "#gentleduckvim",
            "items": []
          },
          {
            "title": "-duck-lox-rs- (STILL IN DEVELOPMENT)",
            "url": "#-duck-lox-rs--still-in-development",
            "items": []
          },
          {
            "title": "@ahmedayob/email-toolkit",
            "url": "#ahmedayobemail-toolkit",
            "items": []
          }
        ]
      },
      {
        "title": "Philosophy",
        "url": "#philosophy",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "docs",
    "permalink": "whoiam",
    "slug": "docs/whoiam",
    "sourceFileDir": "content/docs",
    "sourceFileName": "whoiam.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:e,jsx:n,jsxs:l}=arguments[0];function _createMdxContent(r){const i={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...r.components};return l(e,{children:[n(i.p,{children:\"Duck Gen is designed for multiple frameworks. This guide documents the current NestJS adapter\\nwhile broader framework support is in progress.\"}),\"\\n\",l(i.h2,{id:\"what-it-scans\",children:[n(i.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#what-it-scans\",children:n(i.span,{className:\"icon icon-link\"})}),\"What it scans\"]}),\"\\n\",l(i.ul,{children:[\"\\n\",l(i.li,{children:[\"Classes decorated with \",n(i.code,{__rawString__:\"@Controller()\",children:\"@Controller()\"}),\".\"]}),\"\\n\",n(i.li,{children:\"Methods decorated with HTTP method decorators.\"}),\"\\n\",n(i.li,{children:\"Parameter decorators that influence request types.\"}),\"\\n\"]}),\"\\n\",l(i.h2,{id:\"supported-decorators\",children:[n(i.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#supported-decorators\",children:n(i.span,{className:\"icon icon-link\"})}),\"Supported decorators\"]}),\"\\n\",l(i.ul,{children:[\"\\n\",l(i.li,{children:[\"Controller: \",n(i.code,{__rawString__:\"@Controller()\",children:\"@Controller()\"}),\".\"]}),\"\\n\",l(i.li,{children:[\"Methods: \",n(i.code,{__rawString__:\"@Get\",children:\"@Get\"}),\", \",n(i.code,{__rawString__:\"@Post\",children:\"@Post\"}),\", \",n(i.code,{__rawString__:\"@Put\",children:\"@Put\"}),\", \",n(i.code,{__rawString__:\"@Patch\",children:\"@Patch\"}),\", \",n(i.code,{__rawString__:\"@Delete\",children:\"@Delete\"}),\", \",n(i.code,{__rawString__:\"@Options\",children:\"@Options\"}),\", \",n(i.code,{__rawString__:\"@Head\",children:\"@Head\"}),\",\\n\",n(i.code,{__rawString__:\"@All\",children:\"@All\"}),\".\"]}),\"\\n\",l(i.li,{children:[\"Parameters: \",n(i.code,{__rawString__:\"@Body\",children:\"@Body\"}),\", \",n(i.code,{__rawString__:\"@Query\",children:\"@Query\"}),\", \",n(i.code,{__rawString__:\"@Param\",children:\"@Param\"}),\", \",n(i.code,{__rawString__:\"@Headers\",children:\"@Headers\"}),\".\"]}),\"\\n\"]}),\"\\n\",n(i.p,{children:\"Only string literal paths are supported. If a decorator path is dynamic, it is\\nskipped.\"}),\"\\n\",l(i.h2,{id:\"path-rules\",children:[n(i.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#path-rules\",children:n(i.span,{className:\"icon icon-link\"})}),\"Path rules\"]}),\"\\n\",l(i.p,{children:[\"Duck Gen combines the \",n(i.code,{__rawString__:\"globalPrefix\",children:\"globalPrefix\"}),\", controller path, and method path using\\nclean URL joins. Empty segments are removed and slashes are normalized.\"]}),\"\\n\",l(i.h2,{id:\"request-shape-rules\",children:[n(i.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#request-shape-rules\",children:n(i.span,{className:\"icon icon-link\"})}),\"Request shape rules\"]}),\"\\n\",l(i.ul,{children:[\"\\n\",l(i.li,{children:[n(i.code,{__rawString__:\"@Body()\",children:\"@Body()\"}),\" uses the parameter type for \",n(i.code,{__rawString__:\"body\",children:\"body\"}),\".\"]}),\"\\n\",l(i.li,{children:[n(i.code,{__rawString__:\"@Body('user')\",children:\"@Body('user')\"}),\" becomes \",n(i.code,{__rawString__:\"body: { user?: Type }\",children:\"body: { user?: Type }\"}),\".\"]}),\"\\n\",l(i.li,{children:[n(i.code,{__rawString__:\"@Query('page')\",children:\"@Query('page')\"}),\" becomes \",n(i.code,{__rawString__:\"query: { page?: Type }\",children:\"query: { page?: Type }\"}),\".\"]}),\"\\n\",l(i.li,{children:[n(i.code,{__rawString__:\"@Param('id')\",children:\"@Param('id')\"}),\" becomes \",n(i.code,{__rawString__:\"params: { id: Type }\",children:\"params: { id: Type }\"}),\" (params are required).\"]}),\"\\n\",l(i.li,{children:[n(i.code,{__rawString__:\"@Headers('x-token')\",children:\"@Headers('x-token')\"}),\" becomes \",n(i.code,{__rawString__:\"headers: { 'x-token'?: Type }\",children:\"headers: { 'x-token'?: Type }\"}),\".\"]}),\"\\n\",n(i.li,{children:\"Multiple decorators of the same kind are merged with intersection types.\"}),\"\\n\"]}),\"\\n\",l(i.h2,{id:\"generated-types\",children:[n(i.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#generated-types\",children:n(i.span,{className:\"icon icon-link\"})}),\"Generated types\"]}),\"\\n\",l(i.p,{children:[n(i.code,{__rawString__:\"duck-gen-api-routes.d.ts\",children:\"duck-gen-api-routes.d.ts\"}),\" exports:\"]}),\"\\n\",l(i.table,{children:[n(i.thead,{children:l(i.tr,{children:[n(i.th,{children:\"Type\"}),n(i.th,{children:\"Purpose\"})]})}),l(i.tbody,{children:[l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"ApiRoutes\",children:\"ApiRoutes\"})}),n(i.td,{children:\"Route map: path to typed route metadata.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"RoutePath\",children:\"RoutePath\"})}),n(i.td,{children:\"Union of all route paths.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"RouteReq\",children:\"RouteReq\"})}),l(i.td,{children:[\"Request shape for a path (\",n(i.code,{__rawString__:\"body\",children:\"body\"}),\", \",n(i.code,{__rawString__:\"query\",children:\"query\"}),\", \",n(i.code,{__rawString__:\"params\",children:\"params\"}),\", \",n(i.code,{__rawString__:\"headers\",children:\"headers\"}),\").\"]})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"RouteRes\",children:\"RouteRes\"})}),n(i.td,{children:\"Response type for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"RouteMethod\",children:\"RouteMethod\"})}),n(i.td,{children:\"HTTP method for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"DuckFetcher\",children:\"DuckFetcher\"})}),n(i.td,{children:\"Typed fetcher signature.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"DuckClient\",children:\"DuckClient\"})}),l(i.td,{children:[\"Typed client helper with \",n(i.code,{__rawString__:\"request\",children:\"request\"}),\" and \",n(i.code,{__rawString__:\"byMethod\",children:\"byMethod\"}),\".\"]})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"GetBody\",children:\"GetBody\"})}),n(i.td,{children:\"Body type for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"GetQuery\",children:\"GetQuery\"})}),n(i.td,{children:\"Query type for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"GetParams\",children:\"GetParams\"})}),n(i.td,{children:\"Params type for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"GetHeaders\",children:\"GetHeaders\"})}),n(i.td,{children:\"Headers type for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"GetRes\",children:\"GetRes\"})}),n(i.td,{children:\"Response type for a path.\"})]}),l(i.tr,{children:[n(i.td,{children:n(i.code,{__rawString__:\"GetReq\",children:\"GetReq\"})}),l(i.td,{children:[\"Request type for a path (alias of \",n(i.code,{__rawString__:\"RouteReq\",children:\"RouteReq\"}),\").\"]})]})]})]}),\"\\n\",l(i.h2,{id:\"example\",children:[n(i.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#example\",children:n(i.span,{className:\"icon icon-link\"})}),\"Example\"]}),\"\\n\",l(i.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(i.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"@Controller('auth')\\nexport class AuthController {\\n  @Post('signin')\\n  signin(@Body() body: SigninDto): Promise<AuthSession> {\\n    return this.authService.signin(body)\\n  }\\n \\n  @Get(':id')\\n  findOne(@Param('id') id: string): Promise<UserDto> {\\n    return this.usersService.findOne(id)\\n  }\\n}\",children:l(i.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@Controller\"}),n(i.span,{style:{color:\"#FAB387\"},children:\"(\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'auth'\"}),n(i.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),n(i.span,{style:{color:\"#CBA6F7\"},children:\" class\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthController\"}),n(i.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"  @Post\"}),n(i.span,{style:{color:\"#FAB387\"},children:\"(\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'signin'\"}),n(i.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"  signin\"}),n(i.span,{style:{color:\"#9399B2\"},children:\"(\"}),n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@Body\"}),n(i.span,{style:{color:\"#FAB387\"},children:\"()\"}),n(i.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" body\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\":\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SigninDto\"}),n(i.span,{style:{color:\"#9399B2\"},children:\")\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\":\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Promise\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\"<\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"AuthSession\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\">\"}),n(i.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#CBA6F7\"},children:\"    return\"}),n(i.span,{style:{color:\"#F38BA8\"},children:\" this\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\".\"}),n(i.span,{style:{color:\"#CDD6F4\"},children:\"authService\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\".\"}),n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"signin\"}),n(i.span,{style:{color:\"#CDD6F4\"},children:\"(body)\"})]}),\"\\n\",n(i.span,{className:\"line\",children:n(i.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",n(i.span,{className:\"line\",children:\" \"}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"  @Get\"}),n(i.span,{style:{color:\"#FAB387\"},children:\"(\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"':id'\"}),n(i.span,{style:{color:\"#FAB387\"},children:\")\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"  findOne\"}),n(i.span,{style:{color:\"#9399B2\"},children:\"(\"}),n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"@Param\"}),n(i.span,{style:{color:\"#FAB387\"},children:\"(\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'id'\"}),n(i.span,{style:{color:\"#FAB387\"},children:\")\"}),n(i.span,{style:{color:\"#EBA0AC\",fontStyle:\"italic\"},children:\" id\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\":\"}),n(i.span,{style:{color:\"#CBA6F7\"},children:\" string\"}),n(i.span,{style:{color:\"#9399B2\"},children:\")\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\":\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" Promise\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\"<\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\"UserDto\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\">\"}),n(i.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#CBA6F7\"},children:\"    return\"}),n(i.span,{style:{color:\"#F38BA8\"},children:\" this\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\".\"}),n(i.span,{style:{color:\"#CDD6F4\"},children:\"usersService\"}),n(i.span,{style:{color:\"#94E2D5\"},children:\".\"}),n(i.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"findOne\"}),n(i.span,{style:{color:\"#CDD6F4\"},children:\"(id)\"})]}),\"\\n\",n(i.span,{className:\"line\",children:n(i.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",n(i.span,{className:\"line\",children:n(i.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),n(i.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"@Controller('auth')\\nexport class AuthController {\\n  @Post('signin')\\n  signin(@Body() body: SigninDto): Promise<AuthSession> {\\n    return this.authService.signin(body)\\n  }\\n \\n  @Get(':id')\\n  findOne(@Param('id') id: string): Promise<UserDto> {\\n    return this.usersService.findOne(id)\\n  }\\n}\",children:l(i.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#24292E\"},children:\"@\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"Controller\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(\"}),n(i.span,{style:{color:\"#032F62\"},children:\"'auth'\"}),n(i.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#D73A49\"},children:\"export\"}),n(i.span,{style:{color:\"#D73A49\"},children:\" class\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" AuthController\"}),n(i.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#24292E\"},children:\"  @\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"Post\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(\"}),n(i.span,{style:{color:\"#032F62\"},children:\"'signin'\"}),n(i.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#6F42C1\"},children:\"  signin\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(@\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"Body\"}),n(i.span,{style:{color:\"#24292E\"},children:\"() \"}),n(i.span,{style:{color:\"#E36209\"},children:\"body\"}),n(i.span,{style:{color:\"#D73A49\"},children:\":\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" SigninDto\"}),n(i.span,{style:{color:\"#24292E\"},children:\")\"}),n(i.span,{style:{color:\"#D73A49\"},children:\":\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" Promise\"}),n(i.span,{style:{color:\"#24292E\"},children:\"<\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"AuthSession\"}),n(i.span,{style:{color:\"#24292E\"},children:\"> {\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#D73A49\"},children:\"    return\"}),n(i.span,{style:{color:\"#005CC5\"},children:\" this\"}),n(i.span,{style:{color:\"#24292E\"},children:\".authService.\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"signin\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(body)\"})]}),\"\\n\",n(i.span,{className:\"line\",children:n(i.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",n(i.span,{className:\"line\",children:\" \"}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#24292E\"},children:\"  @\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"Get\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(\"}),n(i.span,{style:{color:\"#032F62\"},children:\"':id'\"}),n(i.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#6F42C1\"},children:\"  findOne\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(@\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"Param\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(\"}),n(i.span,{style:{color:\"#032F62\"},children:\"'id'\"}),n(i.span,{style:{color:\"#24292E\"},children:\") \"}),n(i.span,{style:{color:\"#E36209\"},children:\"id\"}),n(i.span,{style:{color:\"#D73A49\"},children:\":\"}),n(i.span,{style:{color:\"#005CC5\"},children:\" string\"}),n(i.span,{style:{color:\"#24292E\"},children:\")\"}),n(i.span,{style:{color:\"#D73A49\"},children:\":\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" Promise\"}),n(i.span,{style:{color:\"#24292E\"},children:\"<\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"UserDto\"}),n(i.span,{style:{color:\"#24292E\"},children:\"> {\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#D73A49\"},children:\"    return\"}),n(i.span,{style:{color:\"#005CC5\"},children:\" this\"}),n(i.span,{style:{color:\"#24292E\"},children:\".usersService.\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\"findOne\"}),n(i.span,{style:{color:\"#24292E\"},children:\"(id)\"})]}),\"\\n\",n(i.span,{className:\"line\",children:n(i.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",n(i.span,{className:\"line\",children:n(i.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]}),\"\\n\",l(i.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(i.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\\n \\ntype SigninReq = RouteReq<'/api/auth/signin'>\\ntype SigninRes = RouteRes<'/api/auth/signin'>\",children:l(i.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),n(i.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),n(i.span,{style:{color:\"#9399B2\"},children:\" {\"}),n(i.span,{style:{color:\"#CDD6F4\"},children:\" RouteReq\"}),n(i.span,{style:{color:\"#9399B2\"},children:\",\"}),n(i.span,{style:{color:\"#CDD6F4\"},children:\" RouteRes \"}),n(i.span,{style:{color:\"#9399B2\"},children:\"}\"}),n(i.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",n(i.span,{className:\"line\",children:\" \"}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SigninReq \"}),n(i.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" RouteReq\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\"<\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(i.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"/api/auth/signin\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\">\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" SigninRes \"}),n(i.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(i.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" RouteRes\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\"<\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(i.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"/api/auth/signin\"}),n(i.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(i.span,{style:{color:\"#89DCEB\"},children:\">\"})]})]})}),n(i.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\\n \\ntype SigninReq = RouteReq<'/api/auth/signin'>\\ntype SigninRes = RouteRes<'/api/auth/signin'>\",children:l(i.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(i.span,{style:{color:\"#D73A49\"},children:\" type\"}),n(i.span,{style:{color:\"#24292E\"},children:\" { RouteReq, RouteRes } \"}),n(i.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(i.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",n(i.span,{className:\"line\",children:\" \"}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#D73A49\"},children:\"type\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" SigninReq\"}),n(i.span,{style:{color:\"#D73A49\"},children:\" =\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" RouteReq\"}),n(i.span,{style:{color:\"#24292E\"},children:\"<\"}),n(i.span,{style:{color:\"#032F62\"},children:\"'/api/auth/signin'\"}),n(i.span,{style:{color:\"#24292E\"},children:\">\"})]}),\"\\n\",l(i.span,{className:\"line\",children:[n(i.span,{style:{color:\"#D73A49\"},children:\"type\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" SigninRes\"}),n(i.span,{style:{color:\"#D73A49\"},children:\" =\"}),n(i.span,{style:{color:\"#6F42C1\"},children:\" RouteRes\"}),n(i.span,{style:{color:\"#24292E\"},children:\"<\"}),n(i.span,{style:{color:\"#032F62\"},children:\"'/api/auth/signin'\"}),n(i.span,{style:{color:\"#24292E\"},children:\">\"})]})]})})]})]})}return{default:function(e={}){const{wrapper:l}=e.components||{};return l?n(l,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "component": false,
    "content": "<p>Duck Gen is designed for multiple frameworks. This guide documents the current NestJS adapter\nwhile broader framework support is in progress.</p>\n<h2>What it scans</h2>\n<ul>\n<li>Classes decorated with <code>@Controller()</code>.</li>\n<li>Methods decorated with HTTP method decorators.</li>\n<li>Parameter decorators that influence request types.</li>\n</ul>\n<h2>Supported decorators</h2>\n<ul>\n<li>Controller: <code>@Controller()</code>.</li>\n<li>Methods: <code>@Get</code>, <code>@Post</code>, <code>@Put</code>, <code>@Patch</code>, <code>@Delete</code>, <code>@Options</code>, <code>@Head</code>,\n<code>@All</code>.</li>\n<li>Parameters: <code>@Body</code>, <code>@Query</code>, <code>@Param</code>, <code>@Headers</code>.</li>\n</ul>\n<p>Only string literal paths are supported. If a decorator path is dynamic, it is\nskipped.</p>\n<h2>Path rules</h2>\n<p>Duck Gen combines the <code>globalPrefix</code>, controller path, and method path using\nclean URL joins. Empty segments are removed and slashes are normalized.</p>\n<h2>Request shape rules</h2>\n<ul>\n<li><code>@Body()</code> uses the parameter type for <code>body</code>.</li>\n<li><code>@Body('user')</code> becomes <code>body: { user?: Type }</code>.</li>\n<li><code>@Query('page')</code> becomes <code>query: { page?: Type }</code>.</li>\n<li><code>@Param('id')</code> becomes <code>params: { id: Type }</code> (params are required).</li>\n<li><code>@Headers('x-token')</code> becomes <code>headers: { 'x-token'?: Type }</code>.</li>\n<li>Multiple decorators of the same kind are merged with intersection types.</li>\n</ul>\n<h2>Generated types</h2>\n<p><code>duck-gen-api-routes.d.ts</code> exports:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>Type</th><th>Purpose</th></tr></thead><tbody><tr><td><code>ApiRoutes</code></td><td>Route map: path to typed route metadata.</td></tr><tr><td><code>RoutePath</code></td><td>Union of all route paths.</td></tr><tr><td><code>RouteReq</code></td><td>Request shape for a path (<code>body</code>, <code>query</code>, <code>params</code>, <code>headers</code>).</td></tr><tr><td><code>RouteRes</code></td><td>Response type for a path.</td></tr><tr><td><code>RouteMethod</code></td><td>HTTP method for a path.</td></tr><tr><td><code>DuckFetcher</code></td><td>Typed fetcher signature.</td></tr><tr><td><code>DuckClient</code></td><td>Typed client helper with <code>request</code> and <code>byMethod</code>.</td></tr><tr><td><code>GetBody</code></td><td>Body type for a path.</td></tr><tr><td><code>GetQuery</code></td><td>Query type for a path.</td></tr><tr><td><code>GetParams</code></td><td>Params type for a path.</td></tr><tr><td><code>GetHeaders</code></td><td>Headers type for a path.</td></tr><tr><td><code>GetRes</code></td><td>Response type for a path.</td></tr><tr><td><code>GetReq</code></td><td>Request type for a path (alias of <code>RouteReq</code>).</td></tr></tbody></table>\n<h2>Example</h2>\n<pre><code class=\"language-ts\">@Controller('auth')\nexport class AuthController {\n  @Post('signin')\n  signin(@Body() body: SigninDto): Promise&#x3C;AuthSession> {\n    return this.authService.signin(body)\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id: string): Promise&#x3C;UserDto> {\n    return this.usersService.findOne(id)\n  }\n}\n</code></pre>\n<pre><code class=\"language-ts\">import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\n\ntype SigninReq = RouteReq&#x3C;'/api/auth/signin'>\ntype SigninRes = RouteRes&#x3C;'/api/auth/signin'>\n</code></pre>",
    "description": "Generate typed route maps across frameworks, currently tested with NestJS controllers.",
    "excerpt": "Duck Gen is designed for multiple frameworks. This guide documents the current NestJS adapter\nwhile broader framework support is in progress.\nWhat it scans\n\nClasses decorated with @Controller().\nMethods decorated with HTTP method decorators.\nParameter decorato",
    "metadata": {
      "readingTime": 1,
      "wordCount": 298
    },
    "title": "api routes",
    "toc": [
      {
        "title": "What it scans",
        "url": "#what-it-scans",
        "items": []
      },
      {
        "title": "Supported decorators",
        "url": "#supported-decorators",
        "items": []
      },
      {
        "title": "Path rules",
        "url": "#path-rules",
        "items": []
      },
      {
        "title": "Request shape rules",
        "url": "#request-shape-rules",
        "items": []
      },
      {
        "title": "Generated types",
        "url": "#generated-types",
        "items": []
      },
      {
        "title": "Example",
        "url": "#example",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "duck-gen",
    "permalink": "duck-gen/api-routes",
    "slug": "docs/duck-gen/api-routes",
    "sourceFileDir": "docs/duck-gen",
    "sourceFileName": "api-routes.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:e,jsx:n,jsxs:l}=arguments[0];function _createMdxContent(s){const r={a:\"a\",code:\"code\",div:\"div\",figcaption:\"figcaption\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...s.components},{Step:a,Steps:c}=r;return a||_missingMdxReference(\"Step\",!0),c||_missingMdxReference(\"Steps\",!0),l(e,{children:[l(r.h2,{id:\"what-is-duck-gen\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#what-is-duck-gen\",children:n(r.span,{className:\"icon icon-link\"})}),\"What is Duck Gen?\"]}),\"\\n\",n(r.p,{children:\"Duck Gen is a general-purpose compiler extension in the @gentleduck ecosystem. It scans\\nserver code and emits TypeScript definitions that describe API routes and message keys.\\nIt is designed for multiple frameworks and is currently being tested with NestJS. The goal\\nis simple: keep server contracts and client types aligned without manual sync work.\"}),\"\\n\",l(r.h2,{id:\"what-it-generates\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#what-it-generates\",children:n(r.span,{className:\"icon icon-link\"})}),\"What it generates\"]}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.strong,{children:\"API route types\"}),\": A map of routes with request and response types.\"]}),\"\\n\",l(r.li,{children:[n(r.strong,{children:\"Message registry types\"}),\": Strongly typed i18n dictionaries based on\\n\",n(r.code,{__rawString__:\"@duckgen\",children:\"@duckgen\"}),\" message tags.\"]}),\"\\n\"]}),\"\\n\",l(r.h2,{id:\"how-it-works\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#how-it-works\",children:n(r.span,{className:\"icon icon-link\"})}),\"How it works\"]}),\"\\n\",l(r.ol,{children:[\"\\n\",l(r.li,{children:[\"Reads \",n(r.code,{__rawString__:\"duck-gen.toml\",children:\"duck-gen.toml\"}),\" from your project root (or uses defaults).\"]}),\"\\n\",l(r.li,{children:[\"Builds a TypeScript project using \",n(r.code,{__rawString__:\"tsconfigPath\",children:\"tsconfigPath\"}),\" and \",n(r.code,{__rawString__:\"sourceGlobs\",children:\"sourceGlobs\"}),\".\"]}),\"\\n\",l(r.li,{children:[\"Scans framework controllers and \",n(r.code,{__rawString__:\"@duckgen\",children:\"@duckgen\"}),\" message arrays (currently tested with NestJS).\"]}),\"\\n\",l(r.li,{children:[\"Emits \",n(r.code,{__rawString__:\".d.ts\",children:\".d.ts\"}),\" files under \",n(r.code,{__rawString__:\"@gentleduck/gen/generated/<framework>\",children:\"@gentleduck/gen/generated/<framework>\"}),\".\"]}),\"\\n\",l(r.li,{children:[\"Prints warnings for edge cases like duplicate message groups or \",n(r.code,{__rawString__:\"any\",children:\"any\"}),\" types.\"]}),\"\\n\"]}),\"\\n\",l(r.h2,{id:\"installation\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#installation\",children:n(r.span,{className:\"icon icon-link\"})}),\"Installation\"]}),\"\\n\",l(c,{children:[n(a,{children:\"Prerequisites\"}),l(r.ul,{children:[\"\\n\",n(r.li,{children:\"Node 22 or newer.\"}),\"\\n\",l(r.li,{children:[\"A TypeScript project with a valid \",n(r.code,{__rawString__:\"tsconfig.json\",children:\"tsconfig.json\"}),\".\"]}),\"\\n\",n(r.li,{children:\"NestJS (current testing target).\"}),\"\\n\"]}),n(a,{children:\"Install the package\"}),l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:n(r.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" add\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" -D\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" @gentleduck/gen\"})]})})}),n(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:n(r.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),n(r.span,{style:{color:\"#032F62\"},children:\" add\"}),n(r.span,{style:{color:\"#005CC5\"},children:\" -D\"}),n(r.span,{style:{color:\"#032F62\"},children:\" @gentleduck/gen\"})]})})})]}),n(a,{children:\"Add a script (optional)\"}),l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"dark\",children:\"package.json\"}),n(r.pre,{\"data-language\":\"json\",\"data-theme\":\"dark\",__rawString__:'{\\n  \"scripts\": {\\n    \"duck-gen\": \"duck-gen\"\\n  }\\n}',children:l(r.code,{\"data-language\":\"json\",\"data-theme\":\"dark\",children:[n(r.span,{className:\"line\",children:n(r.span,{style:{color:\"#9399B2\"},children:\"{\"})}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:'  \"'}),n(r.span,{style:{color:\"#89B4FA\"},children:\"scripts\"}),n(r.span,{style:{color:\"#9399B2\"},children:'\"'}),n(r.span,{style:{color:\"#9399B2\"},children:\":\"}),n(r.span,{style:{color:\"#9399B2\"},children:\" {\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:'    \"'}),n(r.span,{style:{color:\"#89B4FA\"},children:\"duck-gen\"}),n(r.span,{style:{color:\"#9399B2\"},children:'\"'}),n(r.span,{style:{color:\"#9399B2\"},children:\":\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"duck-gen\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:n(r.span,{style:{color:\"#9399B2\"},children:\"  }\"})}),\"\\n\",n(r.span,{className:\"line\",children:n(r.span,{style:{color:\"#9399B2\"},children:\"}\"})})]})}),n(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"light\",children:\"package.json\"}),n(r.pre,{\"data-language\":\"json\",\"data-theme\":\"light\",__rawString__:'{\\n  \"scripts\": {\\n    \"duck-gen\": \"duck-gen\"\\n  }\\n}',children:l(r.code,{\"data-language\":\"json\",\"data-theme\":\"light\",children:[n(r.span,{className:\"line\",children:n(r.span,{style:{color:\"#24292E\"},children:\"{\"})}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#005CC5\"},children:'  \"scripts\"'}),n(r.span,{style:{color:\"#24292E\"},children:\": {\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#005CC5\"},children:'    \"duck-gen\"'}),n(r.span,{style:{color:\"#24292E\"},children:\": \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"duck-gen\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:n(r.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",n(r.span,{className:\"line\",children:n(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})]})]}),\"\\n\",l(r.h2,{id:\"quick-start\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#quick-start\",children:n(r.span,{className:\"icon icon-link\"})}),\"Quick start\"]}),\"\\n\",l(c,{children:[n(a,{children:\"Create duck-gen.toml\"}),l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"dark\",children:\"duck-gen.toml\"}),n(r.pre,{\"data-language\":\"toml\",\"data-theme\":\"dark\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:l(r.code,{\"data-language\":\"toml\",\"data-theme\":\"dark\",children:[l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"framework \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"nestjs\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.shared\"}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"sourceGlobs \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#9399B2\"},children:\" [\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:'\"src/**/*.ts\"'}),n(r.span,{style:{color:\"#9399B2\"},children:\",\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"src/**/*.tsx\"'}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"tsconfigPath \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"./tsconfig.json\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"includeNodeModules \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" false\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.apiRoutes\"}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"globalPrefix \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"/api\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"normalizeAnyToUnknown \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.messages\"}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]})]})}),n(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"light\",children:\"duck-gen.toml\"}),n(r.pre,{\"data-language\":\"toml\",\"data-theme\":\"light\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:l(r.code,{\"data-language\":\"toml\",\"data-theme\":\"light\",children:[l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"framework = \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"nestjs\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"[\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(r.span,{style:{color:\"#24292E\"},children:\".\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"shared\"}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"sourceGlobs = [\"}),n(r.span,{style:{color:\"#032F62\"},children:'\"src/**/*.ts\"'}),n(r.span,{style:{color:\"#24292E\"},children:\", \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"src/**/*.tsx\"'}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"tsconfigPath = \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"./tsconfig.json\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"includeNodeModules = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"false\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"[\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(r.span,{style:{color:\"#24292E\"},children:\".\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"apiRoutes\"}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"globalPrefix = \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"/api\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"normalizeAnyToUnknown = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"[\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(r.span,{style:{color:\"#24292E\"},children:\".\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"messages\"}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]})]})})]}),n(a,{children:\"Run the generator\"}),l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm exec duck-gen\",children:n(r.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" exec\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" duck-gen\"})]})})}),n(r.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm exec duck-gen\",children:n(r.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),n(r.span,{style:{color:\"#032F62\"},children:\" exec\"}),n(r.span,{style:{color:\"#032F62\"},children:\" duck-gen\"})]})})})]}),n(a,{children:\"Import generated types\"}),l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),n(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),n(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\" RouteReq\"}),n(r.span,{style:{color:\"#9399B2\"},children:\",\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\" RouteRes \"}),n(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),n(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]})})}),n(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),n(r.span,{style:{color:\"#24292E\"},children:\" { RouteReq, RouteRes } \"}),n(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]})})})]})]}),\"\\n\",l(r.h2,{id:\"configuration\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#configuration\",children:n(r.span,{className:\"icon icon-link\"})}),\"Configuration\"]}),\"\\n\",l(r.p,{children:[\"Duck Gen reads \",n(r.code,{__rawString__:\"duck-gen.toml\",children:\"duck-gen.toml\"}),\" from your project root. Paths are resolved\\nrelative to the config file.\"]}),\"\\n\",l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"dark\",children:\"duck-gen.toml\"}),n(r.pre,{\"data-language\":\"toml\",\"data-theme\":\"dark\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:l(r.code,{\"data-language\":\"toml\",\"data-theme\":\"dark\",children:[l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"framework \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"nestjs\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.shared\"}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"sourceGlobs \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#9399B2\"},children:\" [\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:'\"src/**/*.ts\"'}),n(r.span,{style:{color:\"#9399B2\"},children:\",\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"src/**/*.tsx\"'}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"tsconfigPath \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"./tsconfig.json\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"includeNodeModules \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" false\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.apiRoutes\"}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"globalPrefix \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:' \"/api\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"normalizeAnyToUnknown \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#9399B2\"},children:\"[\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\"extensions.messages\"}),n(r.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),n(r.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(r.span,{style:{color:\"#FAB387\"},children:\" true\"})]})]})}),n(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"light\",children:\"duck-gen.toml\"}),n(r.pre,{\"data-language\":\"toml\",\"data-theme\":\"light\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:l(r.code,{\"data-language\":\"toml\",\"data-theme\":\"light\",children:[l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"framework = \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"nestjs\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"[\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(r.span,{style:{color:\"#24292E\"},children:\".\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"shared\"}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"sourceGlobs = [\"}),n(r.span,{style:{color:\"#032F62\"},children:'\"src/**/*.ts\"'}),n(r.span,{style:{color:\"#24292E\"},children:\", \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"src/**/*.tsx\"'}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"tsconfigPath = \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"./tsconfig.json\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"includeNodeModules = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"false\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"[\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(r.span,{style:{color:\"#24292E\"},children:\".\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"apiRoutes\"}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"globalPrefix = \"}),n(r.span,{style:{color:\"#032F62\"},children:'\"/api\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"normalizeAnyToUnknown = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",n(r.span,{className:\"line\",children:\" \"}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"[\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),n(r.span,{style:{color:\"#24292E\"},children:\".\"}),n(r.span,{style:{color:\"#6F42C1\"},children:\"messages\"}),n(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),n(r.span,{style:{color:\"#005CC5\"},children:\"true\"})]})]})})]}),\"\\n\",n(r.p,{children:n(r.strong,{children:\"Root\"})}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"framework\",children:\"framework\"}),\" (string, default: \",n(r.code,{__rawString__:\"nestjs\",children:\"nestjs\"}),\"): The target framework. Duck Gen is\\ndesigned for multiple frameworks; current testing uses \",n(r.code,{__rawString__:\"nestjs\",children:\"nestjs\"}),\" and other\\nadapters are in progress. Unsupported values emit a warning and fall back to\\n\",n(r.code,{__rawString__:\"nestjs\",children:\"nestjs\"}),\".\"]}),\"\\n\"]}),\"\\n\",n(r.p,{children:n(r.strong,{children:\"extensions.shared\"})}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"sourceGlobs\",children:\"sourceGlobs\"}),\" (string[], default: \",n(r.code,{__rawString__:'[\"src/**/*.ts\", \"src/**/*.tsx\"]',children:'[\"src/**/*.ts\", \"src/**/*.tsx\"]'}),\"): Files\\nto scan.\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"tsconfigPath\",children:\"tsconfigPath\"}),\" (string, default: \",n(r.code,{__rawString__:\"./tsconfig.json\",children:\"./tsconfig.json\"}),\"): TypeScript config used\\nby ts-morph.\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"includeNodeModules\",children:\"includeNodeModules\"}),\" (boolean, default: \",n(r.code,{__rawString__:\"false\",children:\"false\"}),\"): Include \",n(r.code,{__rawString__:\"node_modules\",children:\"node_modules\"}),\" in\\nscanning.\"]}),\"\\n\"]}),\"\\n\",n(r.p,{children:n(r.strong,{children:\"extensions.apiRoutes\"})}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"enabled\",children:\"enabled\"}),\" (boolean, default: \",n(r.code,{__rawString__:\"true\",children:\"true\"}),\"): Enable API route generation.\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"globalPrefix\",children:\"globalPrefix\"}),\" (string, default: \",n(r.code,{__rawString__:\"/api\",children:\"/api\"}),\"): Prefix applied to all routes.\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"normalizeAnyToUnknown\",children:\"normalizeAnyToUnknown\"}),\" (boolean, default: \",n(r.code,{__rawString__:\"true\",children:\"true\"}),\"): Converts \",n(r.code,{__rawString__:\"any\",children:\"any\"}),\" request\\ntypes to \",n(r.code,{__rawString__:\"unknown\",children:\"unknown\"}),\".\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"sourceGlobs\",children:\"sourceGlobs\"}),\" (string[]): Overrides \",n(r.code,{__rawString__:\"extensions.shared.sourceGlobs\",children:\"extensions.shared.sourceGlobs\"}),\".\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"tsconfigPath\",children:\"tsconfigPath\"}),\" (string): Overrides \",n(r.code,{__rawString__:\"extensions.shared.tsconfigPath\",children:\"extensions.shared.tsconfigPath\"}),\".\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"includeNodeModules\",children:\"includeNodeModules\"}),\" (boolean): Overrides \",n(r.code,{__rawString__:\"extensions.shared.includeNodeModules\",children:\"extensions.shared.includeNodeModules\"}),\".\"]}),\"\\n\"]}),\"\\n\",n(r.p,{children:n(r.strong,{children:\"extensions.messages\"})}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"enabled\",children:\"enabled\"}),\" (boolean, default: \",n(r.code,{__rawString__:\"true\",children:\"true\"}),\"): Enable message generation.\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"sourceGlobs\",children:\"sourceGlobs\"}),\" (string[]): Overrides \",n(r.code,{__rawString__:\"extensions.shared.sourceGlobs\",children:\"extensions.shared.sourceGlobs\"}),\".\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"tsconfigPath\",children:\"tsconfigPath\"}),\" (string): Overrides \",n(r.code,{__rawString__:\"extensions.shared.tsconfigPath\",children:\"extensions.shared.tsconfigPath\"}),\".\"]}),\"\\n\",l(r.li,{children:[n(r.code,{__rawString__:\"includeNodeModules\",children:\"includeNodeModules\"}),\" (boolean): Overrides \",n(r.code,{__rawString__:\"extensions.shared.includeNodeModules\",children:\"extensions.shared.includeNodeModules\"}),\".\"]}),\"\\n\"]}),\"\\n\",l(r.h2,{id:\"output-and-cli\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#output-and-cli\",children:n(r.span,{className:\"icon icon-link\"})}),\"Output and CLI\"]}),\"\\n\",n(r.p,{children:\"Duck Gen writes generated files inside the package:\"}),\"\\n\",l(r.ul,{children:[\"\\n\",n(r.li,{children:n(r.code,{__rawString__:\"@gentleduck/gen/generated/nestjs/duck-gen-api-routes.d.ts\",children:\"@gentleduck/gen/generated/nestjs/duck-gen-api-routes.d.ts\"})}),\"\\n\",n(r.li,{children:n(r.code,{__rawString__:\"@gentleduck/gen/generated/nestjs/duck-gen-messages.d.ts\",children:\"@gentleduck/gen/generated/nestjs/duck-gen-messages.d.ts\"})}),\"\\n\",n(r.li,{children:n(r.code,{__rawString__:\"@gentleduck/gen/generated/nestjs/index.d.ts\",children:\"@gentleduck/gen/generated/nestjs/index.d.ts\"})}),\"\\n\"]}),\"\\n\",n(r.p,{children:\"Import the public entrypoint:\"}),\"\\n\",l(r.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type { ApiRoutes, DuckgenMessageGroup } from '@gentleduck/gen/nestjs'\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),n(r.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),n(r.span,{style:{color:\"#9399B2\"},children:\" {\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\" ApiRoutes\"}),n(r.span,{style:{color:\"#9399B2\"},children:\",\"}),n(r.span,{style:{color:\"#CDD6F4\"},children:\" DuckgenMessageGroup \"}),n(r.span,{style:{color:\"#9399B2\"},children:\"}\"}),n(r.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),n(r.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]})})}),n(r.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type { ApiRoutes, DuckgenMessageGroup } from '@gentleduck/gen/nestjs'\",children:n(r.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:l(r.span,{className:\"line\",children:[n(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(r.span,{style:{color:\"#D73A49\"},children:\" type\"}),n(r.span,{style:{color:\"#24292E\"},children:\" { ApiRoutes, DuckgenMessageGroup } \"}),n(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(r.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]})})})]}),\"\\n\",n(r.p,{children:\"CLI notes:\"}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[\"If \",n(r.code,{__rawString__:\"duck-gen.toml\",children:\"duck-gen.toml\"}),\" is missing, defaults are used.\"]}),\"\\n\",l(r.li,{children:[\"Warnings are printed for duplicate message groups or \",n(r.code,{__rawString__:\"any\",children:\"any\"}),\" return types.\"]}),\"\\n\",n(r.li,{children:\"Running the generator multiple times is safe; it overwrites the same files.\"}),\"\\n\"]}),\"\\n\",l(r.h2,{id:\"troubleshooting\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#troubleshooting\",children:n(r.span,{className:\"icon icon-link\"})}),\"Troubleshooting\"]}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.strong,{children:\"No routes generated\"}),\": Make sure your decorators use string literal paths.\\nDynamic values are skipped.\"]}),\"\\n\",l(r.li,{children:[n(r.strong,{children:\"Missing types\"}),\": Check \",n(r.code,{__rawString__:\"sourceGlobs\",children:\"sourceGlobs\"}),\" and \",n(r.code,{__rawString__:\"tsconfigPath\",children:\"tsconfigPath\"}),\" in \",n(r.code,{__rawString__:\"duck-gen.toml\",children:\"duck-gen.toml\"}),\".\"]}),\"\\n\",l(r.li,{children:[l(r.strong,{children:[\"Message keys are just \",n(r.code,{__rawString__:\"string\",children:\"string\"})]}),\": Add \",n(r.code,{__rawString__:\"as const\",children:\"as const\"}),\" to message arrays.\"]}),\"\\n\",l(r.li,{children:[n(r.strong,{children:\"Duplicate group warnings\"}),\": Ensure each \",n(r.code,{__rawString__:\"@duckgen\",children:\"@duckgen\"}),\" group key is unique.\"]}),\"\\n\",l(r.li,{children:[n(r.strong,{children:\"Any return warnings\"}),\": Add explicit return types or update the controller\\nmethods to avoid \",n(r.code,{__rawString__:\"any\",children:\"any\"}),\".\"]}),\"\\n\"]}),\"\\n\",l(r.h2,{id:\"extensions\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#extensions\",children:n(r.span,{className:\"icon icon-link\"})}),\"Extensions\"]}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[n(r.strong,{children:\"API Routes\"}),\": \",n(r.a,{href:\"/docs/duck-gen/api-routes\",children:\"Read the API routes guide\"}),\".\"]}),\"\\n\",l(r.li,{children:[n(r.strong,{children:\"Messages\"}),\": \",n(r.a,{href:\"/docs/duck-gen/messages\",children:\"Read the messages guide\"}),\".\"]}),\"\\n\"]}),\"\\n\",l(r.h2,{id:\"contributing\",children:[n(r.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#contributing\",children:n(r.span,{className:\"icon icon-link\"})}),\"Contributing\"]}),\"\\n\",l(r.p,{children:[\"Duck Gen lives in the Gentleduck monorepo. Issues, fixes, and documentation\\nimprovements are welcome at \",n(r.a,{href:\"https://github.com/gentleeduck/duck-ui.\",children:n(r.code,{__rawString__:\"@gentleduck\",children:\"@gentleduck\"})})]})]})}return{default:function(e={}){const{wrapper:l}=e.components||{};return l?n(l,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};function _missingMdxReference(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}",
    "component": false,
    "content": "<h2>What is Duck Gen?</h2>\n<p>Duck Gen is a general-purpose compiler extension in the @gentleduck ecosystem. It scans\nserver code and emits TypeScript definitions that describe API routes and message keys.\nIt is designed for multiple frameworks and is currently being tested with NestJS. The goal\nis simple: keep server contracts and client types aligned without manual sync work.</p>\n<h2>What it generates</h2>\n<ul>\n<li><strong>API route types</strong>: A map of routes with request and response types.</li>\n<li><strong>Message registry types</strong>: Strongly typed i18n dictionaries based on\n<code>@duckgen</code> message tags.</li>\n</ul>\n<h2>How it works</h2>\n<ol>\n<li>Reads <code>duck-gen.toml</code> from your project root (or uses defaults).</li>\n<li>Builds a TypeScript project using <code>tsconfigPath</code> and <code>sourceGlobs</code>.</li>\n<li>Scans framework controllers and <code>@duckgen</code> message arrays (currently tested with NestJS).</li>\n<li>Emits <code>.d.ts</code> files under <code>@gentleduck/gen/generated/&#x3C;framework></code>.</li>\n<li>Prints warnings for edge cases like duplicate message groups or <code>any</code> types.</li>\n</ol>\n<h2>Installation</h2>\n<steps>\n<p><step>Prerequisites</step></p>\n<ul>\n<li>Node 22 or newer.</li>\n<li>A TypeScript project with a valid <code>tsconfig.json</code>.</li>\n<li>NestJS (current testing target).</li>\n</ul>\n<p><step>Install the package</step></p>\n<pre><code class=\"language-bash\">pnpm add -D @gentleduck/gen\n</code></pre>\n<p><step>Add a script (optional)</step></p>\n<pre><code class=\"language-json\" metastring=\"title=&#x22;package.json&#x22;\">{\n  \"scripts\": {\n    \"duck-gen\": \"duck-gen\"\n  }\n}\n</code></pre>\n</steps>\n<h2>Quick start</h2>\n<steps>\n<p><step>Create duck-gen.toml</step></p>\n<pre><code class=\"language-toml\" metastring=\"title=&#x22;duck-gen.toml&#x22;\">framework = \"nestjs\"\n\n[extensions.shared]\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\ntsconfigPath = \"./tsconfig.json\"\nincludeNodeModules = false\n\n[extensions.apiRoutes]\nenabled = true\nglobalPrefix = \"/api\"\nnormalizeAnyToUnknown = true\n\n[extensions.messages]\nenabled = true\n</code></pre>\n<p><step>Run the generator</step></p>\n<pre><code class=\"language-bash\">pnpm exec duck-gen\n</code></pre>\n<p><step>Import generated types</step></p>\n<pre><code class=\"language-ts\">import type { RouteReq, RouteRes } from '@gentleduck/gen/nestjs'\n</code></pre>\n</steps>\n<h2>Configuration</h2>\n<p>Duck Gen reads <code>duck-gen.toml</code> from your project root. Paths are resolved\nrelative to the config file.</p>\n<pre><code class=\"language-toml\" metastring=\"title=&#x22;duck-gen.toml&#x22;\">framework = \"nestjs\"\n\n[extensions.shared]\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\ntsconfigPath = \"./tsconfig.json\"\nincludeNodeModules = false\n\n[extensions.apiRoutes]\nenabled = true\nglobalPrefix = \"/api\"\nnormalizeAnyToUnknown = true\n\n[extensions.messages]\nenabled = true\n</code></pre>\n<p><strong>Root</strong></p>\n<ul>\n<li><code>framework</code> (string, default: <code>nestjs</code>): The target framework. Duck Gen is\ndesigned for multiple frameworks; current testing uses <code>nestjs</code> and other\nadapters are in progress. Unsupported values emit a warning and fall back to\n<code>nestjs</code>.</li>\n</ul>\n<p><strong>extensions.shared</strong></p>\n<ul>\n<li><code>sourceGlobs</code> (string[], default: <code>[\"src/**/*.ts\", \"src/**/*.tsx\"]</code>): Files\nto scan.</li>\n<li><code>tsconfigPath</code> (string, default: <code>./tsconfig.json</code>): TypeScript config used\nby ts-morph.</li>\n<li><code>includeNodeModules</code> (boolean, default: <code>false</code>): Include <code>node_modules</code> in\nscanning.</li>\n</ul>\n<p><strong>extensions.apiRoutes</strong></p>\n<ul>\n<li><code>enabled</code> (boolean, default: <code>true</code>): Enable API route generation.</li>\n<li><code>globalPrefix</code> (string, default: <code>/api</code>): Prefix applied to all routes.</li>\n<li><code>normalizeAnyToUnknown</code> (boolean, default: <code>true</code>): Converts <code>any</code> request\ntypes to <code>unknown</code>.</li>\n<li><code>sourceGlobs</code> (string[]): Overrides <code>extensions.shared.sourceGlobs</code>.</li>\n<li><code>tsconfigPath</code> (string): Overrides <code>extensions.shared.tsconfigPath</code>.</li>\n<li><code>includeNodeModules</code> (boolean): Overrides <code>extensions.shared.includeNodeModules</code>.</li>\n</ul>\n<p><strong>extensions.messages</strong></p>\n<ul>\n<li><code>enabled</code> (boolean, default: <code>true</code>): Enable message generation.</li>\n<li><code>sourceGlobs</code> (string[]): Overrides <code>extensions.shared.sourceGlobs</code>.</li>\n<li><code>tsconfigPath</code> (string): Overrides <code>extensions.shared.tsconfigPath</code>.</li>\n<li><code>includeNodeModules</code> (boolean): Overrides <code>extensions.shared.includeNodeModules</code>.</li>\n</ul>\n<h2>Output and CLI</h2>\n<p>Duck Gen writes generated files inside the package:</p>\n<ul>\n<li><code>@gentleduck/gen/generated/nestjs/duck-gen-api-routes.d.ts</code></li>\n<li><code>@gentleduck/gen/generated/nestjs/duck-gen-messages.d.ts</code></li>\n<li><code>@gentleduck/gen/generated/nestjs/index.d.ts</code></li>\n</ul>\n<p>Import the public entrypoint:</p>\n<pre><code class=\"language-ts\">import type { ApiRoutes, DuckgenMessageGroup } from '@gentleduck/gen/nestjs'\n</code></pre>\n<p>CLI notes:</p>\n<ul>\n<li>If <code>duck-gen.toml</code> is missing, defaults are used.</li>\n<li>Warnings are printed for duplicate message groups or <code>any</code> return types.</li>\n<li>Running the generator multiple times is safe; it overwrites the same files.</li>\n</ul>\n<h2>Troubleshooting</h2>\n<ul>\n<li><strong>No routes generated</strong>: Make sure your decorators use string literal paths.\nDynamic values are skipped.</li>\n<li><strong>Missing types</strong>: Check <code>sourceGlobs</code> and <code>tsconfigPath</code> in <code>duck-gen.toml</code>.</li>\n<li><strong>Message keys are just <code>string</code></strong>: Add <code>as const</code> to message arrays.</li>\n<li><strong>Duplicate group warnings</strong>: Ensure each <code>@duckgen</code> group key is unique.</li>\n<li><strong>Any return warnings</strong>: Add explicit return types or update the controller\nmethods to avoid <code>any</code>.</li>\n</ul>\n<h2>Extensions</h2>\n<ul>\n<li><strong>API Routes</strong>: <a href=\"/docs/duck-gen/api-routes\">Read the API routes guide</a>.</li>\n<li><strong>Messages</strong>: <a href=\"/docs/duck-gen/messages\">Read the messages guide</a>.</li>\n</ul>\n<h2>Contributing</h2>\n<p>Duck Gen lives in the Gentleduck monorepo. Issues, fixes, and documentation\nimprovements are welcome at <a href=\"https://github.com/gentleeduck/duck-ui.\"><code>@gentleduck</code></a></p>",
    "description": "Core setup and usage for the Duck Gen compiler extension, currently tested with NestJS.",
    "excerpt": "What is Duck Gen?\nDuck Gen is a general-purpose compiler extension in the @gentleduck ecosystem. It scans\nserver code and emits TypeScript definitions that describe API routes and message keys.\nIt is designed for multiple frameworks and is currently being test",
    "metadata": {
      "readingTime": 2,
      "wordCount": 586
    },
    "title": "duck gen",
    "toc": [
      {
        "title": "What is Duck Gen?",
        "url": "#what-is-duck-gen",
        "items": []
      },
      {
        "title": "What it generates",
        "url": "#what-it-generates",
        "items": []
      },
      {
        "title": "How it works",
        "url": "#how-it-works",
        "items": []
      },
      {
        "title": "Installation",
        "url": "#installation",
        "items": []
      },
      {
        "title": "Quick start",
        "url": "#quick-start",
        "items": []
      },
      {
        "title": "Configuration",
        "url": "#configuration",
        "items": []
      },
      {
        "title": "Output and CLI",
        "url": "#output-and-cli",
        "items": []
      },
      {
        "title": "Troubleshooting",
        "url": "#troubleshooting",
        "items": []
      },
      {
        "title": "Extensions",
        "url": "#extensions",
        "items": []
      },
      {
        "title": "Contributing",
        "url": "#contributing",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "duck-gen",
    "permalink": "duck-gen/index",
    "slug": "docs/duck-gen/index",
    "sourceFileDir": "docs/duck-gen",
    "sourceFileName": "index.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{Fragment:e,jsx:n,jsxs:l}=arguments[0];function _createMdxContent(s){const c={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...s.components};return l(e,{children:[l(c.h2,{id:\"what-it-scans\",children:[n(c.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#what-it-scans\",children:n(c.span,{className:\"icon icon-link\"})}),\"What it scans\"]}),\"\\n\",l(c.p,{children:[\"Exported const arrays with JSDoc \",n(c.code,{__rawString__:\"@duckgen\",children:\"@duckgen\"}),\" tags.\"]}),\"\\n\",l(c.h2,{id:\"tag-formats\",children:[n(c.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#tag-formats\",children:n(c.span,{className:\"icon icon-link\"})}),\"Tag formats\"]}),\"\\n\",l(c.ul,{children:[\"\\n\",n(c.li,{children:n(c.code,{__rawString__:\"@duckgen\",children:\"@duckgen\"})}),\"\\n\",n(c.li,{children:n(c.code,{__rawString__:\"@duckgen messages\",children:\"@duckgen messages\"})}),\"\\n\",n(c.li,{children:n(c.code,{__rawString__:\"@duckgen messages auth\",children:\"@duckgen messages auth\"})}),\"\\n\",n(c.li,{children:n(c.code,{__rawString__:\"@duckgen auth\",children:\"@duckgen auth\"})}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"If a group key is provided, it becomes the message group name. If not, the\\nconst name is used as the group key.\"}),\"\\n\",l(c.h2,{id:\"group-key-rules\",children:[n(c.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#group-key-rules\",children:n(c.span,{className:\"icon icon-link\"})}),\"Group key rules\"]}),\"\\n\",l(c.ul,{children:[\"\\n\",n(c.li,{children:\"Each group key must be unique.\"}),\"\\n\",n(c.li,{children:\"Duplicate group keys produce warnings and are skipped.\"}),\"\\n\",l(c.li,{children:[\"Use \",n(c.code,{__rawString__:\"as const\",children:\"as const\"}),\" on arrays to preserve literal message keys.\"]}),\"\\n\"]}),\"\\n\",l(c.h2,{id:\"generated-types\",children:[n(c.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#generated-types\",children:n(c.span,{className:\"icon icon-link\"})}),\"Generated types\"]}),\"\\n\",l(c.p,{children:[n(c.code,{__rawString__:\"duck-gen-messages.d.ts\",children:\"duck-gen-messages.d.ts\"}),\" exports:\"]}),\"\\n\",l(c.table,{children:[n(c.thead,{children:l(c.tr,{children:[n(c.th,{children:\"Type\"}),n(c.th,{children:\"Purpose\"})]})}),l(c.tbody,{children:[l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenMessageSources\",children:\"DuckgenMessageSources\"})}),n(c.td,{children:\"Registry of group keys to const message arrays.\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenMessageGroup\",children:\"DuckgenMessageGroup\"})}),n(c.td,{children:\"Union of group keys.\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenMessageKey\",children:\"DuckgenMessageKey\"})}),n(c.td,{children:\"Union of message keys for a group (or all groups).\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenMessageDictionary\",children:\"DuckgenMessageDictionary\"})}),n(c.td,{children:\"Record of message key to string for a group.\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenMessageDictionaryByGroup\",children:\"DuckgenMessageDictionaryByGroup\"})}),n(c.td,{children:\"Map of groups to their dictionaries.\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenI18n\",children:\"DuckgenI18n\"})}),n(c.td,{children:\"Language to dictionary for a group or groups.\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenI18nByGroup\",children:\"DuckgenI18nByGroup\"})}),n(c.td,{children:\"Language to all group dictionaries.\"})]}),l(c.tr,{children:[n(c.td,{children:n(c.code,{__rawString__:\"DuckgenScopedI18nByGroup\",children:\"DuckgenScopedI18nByGroup\"})}),n(c.td,{children:\"Language to scoped group dictionaries.\"})]})]})]}),\"\\n\",l(c.h2,{id:\"example\",children:[n(c.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor\",href:\"#example\",children:n(c.span,{className:\"icon icon-link\"})}),\"Example\"]}),\"\\n\",l(c.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(c.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"/**\\n * @duckgen messages auth\\n */\\nexport const AuthMessages = [\\n  'auth.invalid_credentials',\\n  'auth.locked',\\n] as const\",children:l(c.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\"/**\"})}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\" * \"}),n(c.span,{style:{color:\"#9399B2\"},children:\"@\"}),n(c.span,{style:{color:\"#CBA6F7\"},children:\"duckgen\"}),n(c.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\" messages auth\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6C7086\",fontStyle:\"italic\"},children:\" */\"})}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#CBA6F7\"},children:\"export\"}),n(c.span,{style:{color:\"#CBA6F7\"},children:\" const\"}),n(c.span,{style:{color:\"#CDD6F4\"},children:\" AuthMessages \"}),n(c.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(c.span,{style:{color:\"#CDD6F4\"},children:\" [\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#A6E3A1\"},children:\"  'auth.invalid_credentials'\"}),n(c.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#A6E3A1\"},children:\"  'auth.locked'\"}),n(c.span,{style:{color:\"#9399B2\"},children:\",\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#CDD6F4\"},children:\"] \"}),n(c.span,{style:{color:\"#CBA6F7\"},children:\"as\"}),n(c.span,{style:{color:\"#CBA6F7\"},children:\" const\"})]})]})}),n(c.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"/**\\n * @duckgen messages auth\\n */\\nexport const AuthMessages = [\\n  'auth.invalid_credentials',\\n  'auth.locked',\\n] as const\",children:l(c.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"/**\"})}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6A737D\"},children:\" * \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"@duckgen\"}),n(c.span,{style:{color:\"#6A737D\"},children:\" messages auth\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\" */\"})}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#D73A49\"},children:\"export\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" const\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" AuthMessages\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" =\"}),n(c.span,{style:{color:\"#24292E\"},children:\" [\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#032F62\"},children:\"  'auth.invalid_credentials'\"}),n(c.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#032F62\"},children:\"  'auth.locked'\"}),n(c.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"] \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"as\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" const\"})]})]})})]}),\"\\n\",l(c.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[n(c.pre,{\"data-language\":\"ts\",\"data-theme\":\"dark\",__rawString__:\"import type { DuckgenMessageDictionary, DuckgenMessageKey } from '@gentleduck/gen/nestjs'\\n \\ntype AuthKey = DuckgenMessageKey<'auth'>\\ntype AuthDictionary = DuckgenMessageDictionary<'auth'>\",children:l(c.code,{\"data-language\":\"ts\",\"data-theme\":\"dark\",children:[l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#CBA6F7\"},children:\"import\"}),n(c.span,{style:{color:\"#CBA6F7\"},children:\" type\"}),n(c.span,{style:{color:\"#9399B2\"},children:\" {\"}),n(c.span,{style:{color:\"#CDD6F4\"},children:\" DuckgenMessageDictionary\"}),n(c.span,{style:{color:\"#9399B2\"},children:\",\"}),n(c.span,{style:{color:\"#CDD6F4\"},children:\" DuckgenMessageKey \"}),n(c.span,{style:{color:\"#9399B2\"},children:\"}\"}),n(c.span,{style:{color:\"#CBA6F7\"},children:\" from\"}),n(c.span,{style:{color:\"#A6E3A1\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",n(c.span,{className:\"line\",children:\" \"}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),n(c.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthKey \"}),n(c.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(c.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" DuckgenMessageKey\"}),n(c.span,{style:{color:\"#89DCEB\"},children:\"<\"}),n(c.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(c.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"auth\"}),n(c.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(c.span,{style:{color:\"#89DCEB\"},children:\">\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#CBA6F7\"},children:\"type\"}),n(c.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" AuthDictionary \"}),n(c.span,{style:{color:\"#94E2D5\"},children:\"=\"}),n(c.span,{style:{color:\"#F9E2AF\",fontStyle:\"italic\"},children:\" DuckgenMessageDictionary\"}),n(c.span,{style:{color:\"#89DCEB\"},children:\"<\"}),n(c.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(c.span,{style:{color:\"#A6E3A1\",fontStyle:\"italic\"},children:\"auth\"}),n(c.span,{style:{color:\"#A6E3A1\"},children:\"'\"}),n(c.span,{style:{color:\"#89DCEB\"},children:\">\"})]})]})}),n(c.pre,{\"data-language\":\"ts\",\"data-theme\":\"light\",__rawString__:\"import type { DuckgenMessageDictionary, DuckgenMessageKey } from '@gentleduck/gen/nestjs'\\n \\ntype AuthKey = DuckgenMessageKey<'auth'>\\ntype AuthDictionary = DuckgenMessageDictionary<'auth'>\",children:l(c.code,{\"data-language\":\"ts\",\"data-theme\":\"light\",children:[l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" type\"}),n(c.span,{style:{color:\"#24292E\"},children:\" { DuckgenMessageDictionary, DuckgenMessageKey } \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(c.span,{style:{color:\"#032F62\"},children:\" '@gentleduck/gen/nestjs'\"})]}),\"\\n\",n(c.span,{className:\"line\",children:\" \"}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#D73A49\"},children:\"type\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" AuthKey\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" =\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" DuckgenMessageKey\"}),n(c.span,{style:{color:\"#24292E\"},children:\"<\"}),n(c.span,{style:{color:\"#032F62\"},children:\"'auth'\"}),n(c.span,{style:{color:\"#24292E\"},children:\">\"})]}),\"\\n\",l(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#D73A49\"},children:\"type\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" AuthDictionary\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" =\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" DuckgenMessageDictionary\"}),n(c.span,{style:{color:\"#24292E\"},children:\"<\"}),n(c.span,{style:{color:\"#032F62\"},children:\"'auth'\"}),n(c.span,{style:{color:\"#24292E\"},children:\">\"})]})]})})]})]})}return{default:function(e={}){const{wrapper:l}=e.components||{};return l?n(l,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "component": false,
    "content": "<h2>What it scans</h2>\n<p>Exported const arrays with JSDoc <code>@duckgen</code> tags.</p>\n<h2>Tag formats</h2>\n<ul>\n<li><code>@duckgen</code></li>\n<li><code>@duckgen messages</code></li>\n<li><code>@duckgen messages auth</code></li>\n<li><code>@duckgen auth</code></li>\n</ul>\n<p>If a group key is provided, it becomes the message group name. If not, the\nconst name is used as the group key.</p>\n<h2>Group key rules</h2>\n<ul>\n<li>Each group key must be unique.</li>\n<li>Duplicate group keys produce warnings and are skipped.</li>\n<li>Use <code>as const</code> on arrays to preserve literal message keys.</li>\n</ul>\n<h2>Generated types</h2>\n<p><code>duck-gen-messages.d.ts</code> exports:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>Type</th><th>Purpose</th></tr></thead><tbody><tr><td><code>DuckgenMessageSources</code></td><td>Registry of group keys to const message arrays.</td></tr><tr><td><code>DuckgenMessageGroup</code></td><td>Union of group keys.</td></tr><tr><td><code>DuckgenMessageKey</code></td><td>Union of message keys for a group (or all groups).</td></tr><tr><td><code>DuckgenMessageDictionary</code></td><td>Record of message key to string for a group.</td></tr><tr><td><code>DuckgenMessageDictionaryByGroup</code></td><td>Map of groups to their dictionaries.</td></tr><tr><td><code>DuckgenI18n</code></td><td>Language to dictionary for a group or groups.</td></tr><tr><td><code>DuckgenI18nByGroup</code></td><td>Language to all group dictionaries.</td></tr><tr><td><code>DuckgenScopedI18nByGroup</code></td><td>Language to scoped group dictionaries.</td></tr></tbody></table>\n<h2>Example</h2>\n<pre><code class=\"language-ts\">/**\n * @duckgen messages auth\n */\nexport const AuthMessages = [\n  'auth.invalid_credentials',\n  'auth.locked',\n] as const\n</code></pre>\n<pre><code class=\"language-ts\">import type { DuckgenMessageDictionary, DuckgenMessageKey } from '@gentleduck/gen/nestjs'\n\ntype AuthKey = DuckgenMessageKey&#x3C;'auth'>\ntype AuthDictionary = DuckgenMessageDictionary&#x3C;'auth'>\n</code></pre>",
    "description": "Generate typed i18n dictionaries from @duckgen tags.",
    "excerpt": "What it scans\nExported const arrays with JSDoc @duckgen tags.\nTag formats\n\n@duckgen\n@duckgen messages\n@duckgen messages auth\n@duckgen auth\n\nIf a group key is provided, it becomes the message group name. If not, the\nconst name is used as the group key.\nGroup ke",
    "metadata": {
      "readingTime": 1,
      "wordCount": 176
    },
    "title": "messages",
    "toc": [
      {
        "title": "What it scans",
        "url": "#what-it-scans",
        "items": []
      },
      {
        "title": "Tag formats",
        "url": "#tag-formats",
        "items": []
      },
      {
        "title": "Group key rules",
        "url": "#group-key-rules",
        "items": []
      },
      {
        "title": "Generated types",
        "url": "#generated-types",
        "items": []
      },
      {
        "title": "Example",
        "url": "#example",
        "items": []
      }
    ],
    "contentType": "mdx",
    "flattenedPath": "duck-gen",
    "permalink": "duck-gen/messages",
    "slug": "docs/duck-gen/messages",
    "sourceFileDir": "docs/duck-gen",
    "sourceFileName": "messages.mdx",
    "sourceFilePath": []
  },
  {
    "body": "const{jsx:e,jsxs:n}=arguments[0];function _createMdxContent(l){const s={a:\"a\",code:\"code\",div:\"div\",figcaption:\"figcaption\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...l.components},{Step:a,Steps:r}=s;return a||_missingMdxReference(\"Step\",!0),r||_missingMdxReference(\"Steps\",!0),n(r,{children:[e(a,{children:\"Prerequisites\"}),n(s.ul,{children:[\"\\n\",e(s.li,{children:\"Node 22 or newer.\"}),\"\\n\",n(s.li,{children:[\"A TypeScript project with a valid \",e(s.code,{__rawString__:\"tsconfig.json\",children:\"tsconfig.json\"}),\".\"]}),\"\\n\",e(s.li,{children:\"NestJS (current testing target).\"}),\"\\n\"]}),e(a,{children:\"Install the package\"}),n(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:e(s.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:\" add\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:\" -D\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:\" @gentleduck/gen\"})]})})}),e(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm add -D @gentleduck/gen\",children:e(s.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),e(s.span,{style:{color:\"#032F62\"},children:\" add\"}),e(s.span,{style:{color:\"#005CC5\"},children:\" -D\"}),e(s.span,{style:{color:\"#032F62\"},children:\" @gentleduck/gen\"})]})})})]}),e(a,{children:\"Create duck-gen.toml\"}),n(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"dark\",children:\"duck-gen.toml\"}),e(s.pre,{\"data-language\":\"toml\",\"data-theme\":\"dark\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:n(s.code,{\"data-language\":\"toml\",\"data-theme\":\"dark\",children:[n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"framework \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:' \"nestjs\"'})]}),\"\\n\",e(s.span,{className:\"line\",children:\" \"}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#9399B2\"},children:\"[\"}),e(s.span,{style:{color:\"#CDD6F4\"},children:\"extensions.shared\"}),e(s.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"sourceGlobs \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#9399B2\"},children:\" [\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:'\"src/**/*.ts\"'}),e(s.span,{style:{color:\"#9399B2\"},children:\",\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:' \"src/**/*.tsx\"'}),e(s.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"tsconfigPath \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:' \"./tsconfig.json\"'})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"includeNodeModules \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#FAB387\"},children:\" false\"})]}),\"\\n\",e(s.span,{className:\"line\",children:\" \"}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#9399B2\"},children:\"[\"}),e(s.span,{style:{color:\"#CDD6F4\"},children:\"extensions.apiRoutes\"}),e(s.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"globalPrefix \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:' \"/api\"'})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"normalizeAnyToUnknown \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#FAB387\"},children:\" true\"})]}),\"\\n\",e(s.span,{className:\"line\",children:\" \"}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#9399B2\"},children:\"[\"}),e(s.span,{style:{color:\"#CDD6F4\"},children:\"extensions.messages\"}),e(s.span,{style:{color:\"#9399B2\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#CDD6F4\"},children:\"enabled \"}),e(s.span,{style:{color:\"#94E2D5\"},children:\"=\"}),e(s.span,{style:{color:\"#FAB387\"},children:\" true\"})]})]})}),e(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"toml\",\"data-theme\":\"light\",children:\"duck-gen.toml\"}),e(s.pre,{\"data-language\":\"toml\",\"data-theme\":\"light\",__rawString__:'framework = \"nestjs\"\\n \\n[extensions.shared]\\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\\ntsconfigPath = \"./tsconfig.json\"\\nincludeNodeModules = false\\n \\n[extensions.apiRoutes]\\nenabled = true\\nglobalPrefix = \"/api\"\\nnormalizeAnyToUnknown = true\\n \\n[extensions.messages]\\nenabled = true',children:n(s.code,{\"data-language\":\"toml\",\"data-theme\":\"light\",children:[n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"framework = \"}),e(s.span,{style:{color:\"#032F62\"},children:'\"nestjs\"'})]}),\"\\n\",e(s.span,{className:\"line\",children:\" \"}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"[\"}),e(s.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),e(s.span,{style:{color:\"#24292E\"},children:\".\"}),e(s.span,{style:{color:\"#6F42C1\"},children:\"shared\"}),e(s.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"sourceGlobs = [\"}),e(s.span,{style:{color:\"#032F62\"},children:'\"src/**/*.ts\"'}),e(s.span,{style:{color:\"#24292E\"},children:\", \"}),e(s.span,{style:{color:\"#032F62\"},children:'\"src/**/*.tsx\"'}),e(s.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"tsconfigPath = \"}),e(s.span,{style:{color:\"#032F62\"},children:'\"./tsconfig.json\"'})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"includeNodeModules = \"}),e(s.span,{style:{color:\"#005CC5\"},children:\"false\"})]}),\"\\n\",e(s.span,{className:\"line\",children:\" \"}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"[\"}),e(s.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),e(s.span,{style:{color:\"#24292E\"},children:\".\"}),e(s.span,{style:{color:\"#6F42C1\"},children:\"apiRoutes\"}),e(s.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),e(s.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"globalPrefix = \"}),e(s.span,{style:{color:\"#032F62\"},children:'\"/api\"'})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"normalizeAnyToUnknown = \"}),e(s.span,{style:{color:\"#005CC5\"},children:\"true\"})]}),\"\\n\",e(s.span,{className:\"line\",children:\" \"}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"[\"}),e(s.span,{style:{color:\"#6F42C1\"},children:\"extensions\"}),e(s.span,{style:{color:\"#24292E\"},children:\".\"}),e(s.span,{style:{color:\"#6F42C1\"},children:\"messages\"}),e(s.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#24292E\"},children:\"enabled = \"}),e(s.span,{style:{color:\"#005CC5\"},children:\"true\"})]})]})})]}),e(a,{children:\"Run the generator\"}),n(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[e(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"dark\",__rawString__:\"pnpm exec duck-gen\",children:e(s.code,{\"data-language\":\"bash\",\"data-theme\":\"dark\",children:n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#89B4FA\",fontStyle:\"italic\"},children:\"pnpm\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:\" exec\"}),e(s.span,{style:{color:\"#A6E3A1\"},children:\" duck-gen\"})]})})}),e(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"light\",__rawString__:\"pnpm exec duck-gen\",children:e(s.code,{\"data-language\":\"bash\",\"data-theme\":\"light\",children:n(s.span,{className:\"line\",children:[e(s.span,{style:{color:\"#6F42C1\"},children:\"pnpm\"}),e(s.span,{style:{color:\"#032F62\"},children:\" exec\"}),e(s.span,{style:{color:\"#032F62\"},children:\" duck-gen\"})]})})})]}),e(a,{children:\"Read the core guide\"}),n(s.p,{children:[\"Head to \",e(s.a,{href:\"/docs/duck-gen\",children:\"Duck Gen core\"}),\" for configuration details, output\\npaths, and troubleshooting.\"]})]})}return{default:function(n={}){const{wrapper:l}=n.components||{};return l?e(l,{...n,children:e(_createMdxContent,{...n})}):_createMdxContent(n)}};function _missingMdxReference(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}",
    "component": false,
    "content": "<steps>\n<p><step>Prerequisites</step></p>\n<ul>\n<li>Node 22 or newer.</li>\n<li>A TypeScript project with a valid <code>tsconfig.json</code>.</li>\n<li>NestJS (current testing target).</li>\n</ul>\n<p><step>Install the package</step></p>\n<pre><code class=\"language-bash\">pnpm add -D @gentleduck/gen\n</code></pre>\n<p><step>Create duck-gen.toml</step></p>\n<pre><code class=\"language-toml\" metastring=\"title=&#x22;duck-gen.toml&#x22;\">framework = \"nestjs\"\n\n[extensions.shared]\nsourceGlobs = [\"src/**/*.ts\", \"src/**/*.tsx\"]\ntsconfigPath = \"./tsconfig.json\"\nincludeNodeModules = false\n\n[extensions.apiRoutes]\nenabled = true\nglobalPrefix = \"/api\"\nnormalizeAnyToUnknown = true\n\n[extensions.messages]\nenabled = true\n</code></pre>\n<p><step>Run the generator</step></p>\n<pre><code class=\"language-bash\">pnpm exec duck-gen\n</code></pre>\n<p><step>Read the core guide</step></p>\n<p>Head to <a href=\"/docs/duck-gen\">Duck Gen core</a> for configuration details, output\npaths, and troubleshooting.</p>\n</steps>",
    "description": "Install Duck Gen, the general-purpose compiler extension currently tested with NestJS, and generate your first types.",
    "excerpt": "\nPrerequisites\n\nNode 22 or newer.\nA TypeScript project with a valid tsconfig.json.\nNestJS (current testing target).\n\nInstall the package\npnpm add -D @gentleduck/gen\n\nCreate duck-gen.toml\nframework = \"nestjs\"\n\n[extensions.shared]\nsourceGlobs = [\"src/**/*.ts\", \"",
    "metadata": {
      "readingTime": 1,
      "wordCount": 77
    },
    "title": "installation",
    "toc": [],
    "contentType": "mdx",
    "flattenedPath": "installation",
    "permalink": "installation/index",
    "slug": "docs/installation/index",
    "sourceFileDir": "docs/installation",
    "sourceFileName": "index.mdx",
    "sourceFilePath": []
  }
]