{
  "categories": [
    "charts",
    "charts-pie"
  ],
  "files": [
    {
      "content": "'use client'\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@gentleduck/registry-ui-duckui/card'\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartStyle,\n  ChartTooltip,\n  ChartTooltipContent,\n} from '@gentleduck/registry-ui-duckui/chart'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@gentleduck/registry-ui-duckui/select'\nimport * as React from 'react'\nimport { Label, Pie, PieChart, Sector } from 'recharts'\nimport type { PieSectorDataItem } from 'recharts/types/polar/Pie'\nconst desktopData = [\n  { desktop: 186, fill: 'var(--color-january)', month: 'january' },\n  { desktop: 305, fill: 'var(--color-february)', month: 'february' },\n  { desktop: 237, fill: 'var(--color-march)', month: 'march' },\n  { desktop: 173, fill: 'var(--color-april)', month: 'april' },\n  { desktop: 209, fill: 'var(--color-may)', month: 'may' },\n]\n\nconst chartConfig = {\n  april: {\n    color: 'var(--chart-4)',\n    label: 'April',\n  },\n  desktop: {\n    label: 'Desktop',\n  },\n  february: {\n    color: 'var(--chart-2)',\n    label: 'February',\n  },\n  january: {\n    color: 'var(--chart-1)',\n    label: 'January',\n  },\n  march: {\n    color: 'var(--chart-3)',\n    label: 'March',\n  },\n  may: {\n    color: 'var(--chart-5)',\n    label: 'May',\n  },\n  mobile: {\n    label: 'Mobile',\n  },\n  visitors: {\n    label: 'Visitors',\n  },\n} satisfies ChartConfig\n\nexport default function Component() {\n  const id = 'pie-interactive'\n  const [activeMonth, setActiveMonth] = React.useState(desktopData[0]?.month)\n\n  const activeIndex = React.useMemo(() => desktopData.findIndex((item) => item.month === activeMonth), [activeMonth])\n  const months = React.useMemo(() => desktopData.map((item) => item.month), [])\n\n  return (\n    <Card className=\"flex flex-col\" data-chart={id}>\n      <ChartStyle config={chartConfig} id={id} />\n      <CardHeader className=\"flex-row items-start space-y-0 pb-0\">\n        <div className=\"grid gap-1\">\n          <CardTitle>Pie Chart - Interactive</CardTitle>\n          <CardDescription>January - June 2024</CardDescription>\n        </div>\n        <Select onValueChange={setActiveMonth} placement=\"bottom-end\" value={activeMonth}>\n          <SelectTrigger aria-label=\"Select a value\" className=\"ml-auto h-7 w-[130px] rounded-lg pl-2.5\">\n            <SelectValue placeholder=\"Select month\" />\n          </SelectTrigger>\n          <SelectContent className=\"rounded-xl\">\n            {months.map((key) => {\n              const config = chartConfig[key as keyof typeof chartConfig]\n\n              if (!config) {\n                return null\n              }\n\n              return (\n                <SelectItem className=\"rounded-lg [&_span]:flex\" key={key} value={key}>\n                  <div className=\"flex items-center gap-2 text-xs\">\n                    <span\n                      className=\"flex h-3 w-3 shrink-0 rounded-sm\"\n                      style={{\n                        backgroundColor: `var(--color-${key})`,\n                      }}\n                    />\n                    {config?.label}\n                  </div>\n                </SelectItem>\n              )\n            })}\n          </SelectContent>\n        </Select>\n      </CardHeader>\n      <CardContent className=\"flex flex-1 justify-center pb-0\">\n        <ChartContainer className=\"mx-auto aspect-square w-full max-w-[300px]\" config={chartConfig} id={id}>\n          <PieChart>\n            <ChartTooltip content={<ChartTooltipContent hideLabel />} cursor={false} />\n            <Pie\n              activeIndex={activeIndex}\n              activeShape={({ outerRadius = 0, ...props }: PieSectorDataItem) => (\n                <g>\n                  <Sector {...props} outerRadius={outerRadius + 10} />\n                  <Sector {...props} innerRadius={outerRadius + 12} outerRadius={outerRadius + 25} />\n                </g>\n              )}\n              data={desktopData}\n              dataKey=\"desktop\"\n              innerRadius={60}\n              nameKey=\"month\"\n              strokeWidth={5}>\n              <Label\n                content={({ viewBox }) => {\n                  if (viewBox && 'cx' in viewBox && 'cy' in viewBox) {\n                    return (\n                      <text dominantBaseline=\"middle\" textAnchor=\"middle\" x={viewBox.cx} y={viewBox.cy}>\n                        <tspan className=\"fill-foreground font-bold text-3xl\" x={viewBox.cx} y={viewBox.cy}>\n                          {desktopData[activeIndex]?.desktop.toLocaleString()}\n                        </tspan>\n                        <tspan className=\"fill-muted-foreground\" x={viewBox.cx} y={(viewBox.cy || 0) + 24}>\n                          Visitors\n                        </tspan>\n                      </text>\n                    )\n                  }\n                }}\n              />\n            </Pie>\n          </PieChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  )\n}\n",
      "path": "charts/chart-pie-interactive/chart-pie-interactive.tsx",
      "target": "components/chart-pie-interactive.tsx",
      "type": "registry:block"
    }
  ],
  "name": "chart-pie-interactive",
  "registryDependencies": [
    "card",
    "chart"
  ],
  "root_folder": "charts/chart-pie-interactive",
  "source": "/registry-examples-duckui/src/charts/chart-pie-interactive",
  "type": "registry:block"
}