{
  "name": "toggle-group",
  "type": "registry:ui",
  "dependencies": [
    "@gentleduck/variants",
    "@gentleduck/libs"
  ],
  "registryDependencies": [
    "toggle"
  ],
  "root_folder": "toggle-group",
  "files": [
    {
      "path": "toggle-group/index.ts",
      "content": "export * from './toggle-group'\nexport * from './toggle-group.hooks'\n",
      "type": "registry:ui",
      "target": "components/ui/index.ts"
    },
    {
      "path": "toggle-group/toggle-group.hooks.ts",
      "content": "import React from 'react'\n\nexport function ToggleGroupInit(type?: 'single' | 'multiple', onValueChange?: (value: string) => void) {\n  const wrapperRef = React.useRef<HTMLUListElement>(null)\n  const itemsRef = React.useRef<HTMLDivElement[]>([])\n  const selectedItemRef = React.useRef<HTMLDivElement[]>([])\n\n  React.useEffect(() => {\n    const items = Array.from(\n      wrapperRef.current?.querySelectorAll('[duck-toggle-group-item]') as never as HTMLDivElement[],\n    )\n    itemsRef.current = items\n\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i] as HTMLInputElement\n      item.addEventListener('click', () => {\n        if (type === 'single') {\n          for (let i = 0; i < items.length; i++) {\n            const item = items[i] as HTMLInputElement\n            item.setAttribute('aria-checked', 'false')\n            item.setAttribute('aria-selected', 'false')\n            item.checked = false\n          }\n        }\n\n        onValueChange?.(item.value)\n        selectedItemRef.current = type === 'single' ? [item] : [...selectedItemRef.current, item]\n        item.setAttribute('aria-checked', 'true')\n        item.setAttribute('aria-selected', 'true')\n        item.checked = true\n      })\n    }\n  }, [type])\n  return { wrapperRef, itemsRef, selectedItemRef }\n}\n",
      "type": "registry:ui",
      "target": "components/ui/toggle-group.hooks.ts"
    },
    {
      "path": "toggle-group/toggle-group.tsx",
      "content": "'use client'\n\nimport { cn } from '@gentleduck/libs/cn'\nimport type { VariantProps } from '@gentleduck/variants'\nimport * as React from 'react'\nimport * as Toggle from '../toggle'\nimport { ToggleGroupInit } from './toggle-group.hooks'\n\nexport interface ToggleGroupContextProps extends VariantProps<typeof Toggle.toggleVariants> {\n  type?: 'single' | 'multiple'\n  selectedItemRef: React.RefObject<HTMLDivElement[]>\n  itemsRef: React.RefObject<HTMLDivElement[]>\n  wrapperRef: React.RefObject<HTMLUListElement | null>\n}\n\nconst ToggleGroupContext = React.createContext<ToggleGroupContextProps | null>(null)\n\nfunction ToggleGroup({\n  className,\n  variant = 'default',\n  size,\n  type,\n  children,\n  onValueChange,\n  ref,\n  ...props\n}: Omit<React.HTMLProps<HTMLUListElement>, 'size'> &\n  VariantProps<typeof Toggle.toggleVariants> & {\n    type?: 'single' | 'multiple'\n    onValueChange?: (value: string) => void\n  }) {\n  const { selectedItemRef, wrapperRef, itemsRef } = ToggleGroupInit(type, onValueChange)\n\n  return (\n    <ToggleGroupContext.Provider value={{ itemsRef, selectedItemRef, size, type, variant, wrapperRef }}>\n      <ul\n        className={cn(\n          'flex items-center justify-center overflow-hidden rounded-md [&>:first-child>input]:rounded-l-md [&>:last-child>input]:rounded-r-md',\n          variant === 'outline' &&\n            '[&>*:first-child>input]:border-r-0 [&>*:not(:first-child):not(:last-child)>input]:border-r-0',\n          className,\n        )}\n        ref={wrapperRef}\n        {...props}\n        data-type={type}\n        duck-toggle-group=\"\">\n        {children}\n      </ul>\n    </ToggleGroupContext.Provider>\n  )\n}\n\nfunction ToggleGroupItem({\n  className,\n  children,\n  variant,\n  size,\n  value,\n  ref,\n  ...props\n}: React.ComponentPropsWithRef<typeof Toggle.Toggle>) {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <Toggle.Toggle\n      className={cn('rounded-none', className)}\n      ref={ref}\n      size={context?.size || size}\n      value={value}\n      variant={context?.variant || variant}\n      {...props}\n      duck-toggle-group-item=\"\">\n      {children}\n    </Toggle.Toggle>\n  )\n}\n\nexport { ToggleGroup, ToggleGroupItem }\n",
      "type": "registry:ui",
      "target": "components/ui/toggle-group.tsx"
    }
  ],
  "source": "/registry-ui-duckui/src/toggle-group"
}